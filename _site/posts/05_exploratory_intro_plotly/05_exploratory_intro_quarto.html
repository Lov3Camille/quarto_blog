<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.35">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Albert Rapp">
<meta name="dcterms.date" content="2021-10-16">
<meta name="description" content="We try to do a few simple things with the plotly package in order to figure out how it works.">

<title>Albert Rapp - An Exploratory Introduction to the Plotly Package</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Y3M69TZVPJ"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-Y3M69TZVPJ', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  });
});
</script> 
  
<script src="../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<meta name="twitter:title" content="Albert Rapp - An Exploratory Introduction to the Plotly Package">
<meta name="twitter:description" content="We try to do a few simple things with the plotly package in order to figure out how it works.">
<meta name="twitter:image" content="https://albert-rapp.de/thumbnail_blog.png">
<meta name="twitter:creator" content="@rappa753">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="418">
<meta name="twitter:image-width" content="800">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Albert Rapp</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">Blog</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/AlbertRapp"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/rappa753"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/user/Alfrodo123"><i class="bi bi-youtube" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"><i class="bi bi-rss" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ressources" role="button" data-bs-toggle="dropdown" aria-expanded="false">Ressources</a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-ressources">    
        <li>
    <a class="dropdown-item" href="../../dataviz_portfolio.html">
 <span class="dropdown-text">DataViz Portfolio</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://yards.albert-rapp.de/">
 <span class="dropdown-text">YARDS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rweekly.org/">
 <span class="dropdown-text">R Weekly</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.r-bloggers.com/">
 <span class="dropdown-text">R Bloggers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../archive.html">Archive</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#one-side-note-before-we-dive-in" id="toc-one-side-note-before-we-dive-in" class="nav-link active" data-scroll-target="#one-side-note-before-we-dive-in">One Side Note before We Dive in</a></li>
  <li><a href="#from-ggplot2-to-plotly" id="toc-from-ggplot2-to-plotly" class="nav-link" data-scroll-target="#from-ggplot2-to-plotly">From ggplot2 to plotly</a></li>
  <li><a href="#creating-a-plotly-chart-manually" id="toc-creating-a-plotly-chart-manually" class="nav-link" data-scroll-target="#creating-a-plotly-chart-manually">Creating a Plotly Chart Manually</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">An Exploratory Introduction to the Plotly Package</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Visualization</div>
    <div class="quarto-category">Exploratory Intro</div>
  </div>
  </div>

<div>
  <div class="description">
    We try to do a few simple things with the plotly package in order to figure out how it works.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Albert Rapp </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 16, 2021</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">

</div>
<p>Currently, I am quite curious about interactive plots which is why I am reading <a href="https://alignedleft.com/work/d3-book-2e">Scott Murray’s highly recommendable book on D3</a>. For those of you who don’t know it, <a href="https://d3js.org/">D3.js</a> is a JavaScript library that is great for creating amazing interactive <strong>D</strong>ata-<strong>D</strong>riven-<strong>D</strong>ocuments on the web.</p>
<p>Unfortunately, compared to <code>ggplot2</code>, D3’s learning curve feels quite steep and I am not yet able to work with it yet. Fortunately, there are other interactive graphing libraries out there that I can use to get a first feel for creating interactive plots. For instance, there is another JavaScript library <a href="https://plotly.com/graphing-libraries/">plotly.js</a>, which is built on top of D3 and can be easily used in R through the <code>plotly</code> package.</p>
<p>Therefore, I decided to play around with this R package in the hope of figuring out how it works. Also, I summarized what I played around with in this blog post by writing what I like to call an “exploratory introduction”.</p>
<p>As the name implies, this is not really a formal introduction to <code>plotly</code> and more of an experience report. Nevertheless, I suspect that this can be useful for people who have already knowledge about <code>ggplot2</code> and want to get started with <code>plotly</code> as well.</p>
<p>Further, in case you do not want to read my informal commentary, you can also check out the <a href="https://youtu.be/rzpbQ93pmPM">video version</a> of this blog post. Think of it as a summary of this blog post.</p>
<p>As of now, I plan on doing a similar exploratory introduction to <a href="https://rstudio.github.io/r2d3/"><code>r2d3</code></a> which is an R interface to D3. Possibly, this will then be combined with knowledge I gathered from Scott Murray’s book.</p>
<section id="one-side-note-before-we-dive-in" class="level2">
<h2 class="anchored" data-anchor-id="one-side-note-before-we-dive-in">One Side Note before We Dive in</h2>
<p>According to <a href="https://en.wikipedia.org/wiki/JavaScript">Wikipedia</a>, JavaScript “is one of the core technologies of the World Wide Web”. Surprisingly, JavaScript’s ubiquity on the interwebs also messed with this blog’s theme template such that font formatting was completely destroyed when I included an interactive <code>plotly</code> plot.</p>
<p>To work around this issue, I had to save the plots in an auxillary html-file and include it as a separate frame. This is why you will find that, here, all plots are saved in a variable (for later export) even if it does not really make sense to save it for plotting purposes.</p>
<p>Finally, be aware that, for some reason, interactive <code>plotly</code> plots are quite large such that it might take some time to load them all.</p>
<p><strong>EDIT (July 10, 2022)</strong>: I have moved this blog to <a href="https://quarto.org/">Quarto</a>. Now, the issues with the theme do not persist anymore. However, I have left the remaining blog post unchanged.</p>
</section>
<section id="from-ggplot2-to-plotly" class="level2">
<h2 class="anchored" data-anchor-id="from-ggplot2-to-plotly">From ggplot2 to plotly</h2>
<p>Let us begin by transforming a ggplot to a plotly plot. Using a built-in function from the <code>plotly</code> package, it is straight-forward to convert a ggplot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(hwy, cty, <span class="at">fill =</span> class)) <span class="sc">+</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>plotly_p <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p) </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>plotly_p </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-9501c4897c07219fc2e0" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9501c4897c07219fc2e0">{"x":{"data":[{"x":[26.3468423327431,23.0577834803611,26.2269322231412,25.0546585965902,23.8709048332646],"y":[16.1688798062503,14.7381617575884,16.2568082656711,14.8146773327142,15.2574840441346],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.7285548966378,29.2928031703457,30.7029067832977,30.1971632037312,26.0387085303664,25.6231366390362,26.7347938770428,26.2070768939331,25.3750475412235,28.0065803287551,26.9153576748446,25.3375901896507,25.1743687292561,24.9560778321698,25.3925947178155,28.9086239244789,27.0284272931516,24.6156453751028,27.2436919081956,25.0875063981861,26.6567170435563,27.3183336950839,29.3745217587799,31.3956985669211,31.0676032809541,25.9381419314072,25.8728396296501,26.786693594791,29.8055770428851,32.661400497891,34.8692508924753,36.9504880845547,35.0062646796927,28.7686486324295,25.6628706904128,29.3355776557699,29.3659652478993,23.6907917987555,43.6890308041126,28.6584836395457,26.2988675035536,28.9194992400706,29.23749961555,28.9077285218984,29.0332981143147,22.6835335996002,24.1386990375817],"y":[18.0005085682496,21.2606541924179,19.7686790619045,20.9503782479092,15.9927340045571,17.8403624331579,17.6544636487961,18.0264623560011,15.7664890596643,20.3912958297879,18.9826259249821,15.003038257733,17.2784424712881,17.125746592693,15.3285549048334,21.0687674753368,18.9102398194373,20.0565673241392,20.2796282051131,18.8759395750239,20.1586942736059,20.7964931095019,20.7644205821678,20.9554503919557,22.1421936441213,17.6285823376849,18.2979858268052,17.9311884511262,23.8903718559071,24.3607391260564,25.8030560763553,27.9476148683578,26.133845769614,20.7908155363053,18.711763340421,21.0231676131487,21.7094212863594,16.6832958947867,32.8335271898657,20.8819710863754,18.7232536340132,21.9539098639041,21.1812552824616,20.7829076746479,20.7080740222707,16.3591439917684,16.7351636499167],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3121785344556,24.9539151323959,23.2760080084205,27.1171068761498,30.1047801915556,25.9104588851333,29.3399670755491,25.7298251133412,25.6402258628979,27.1324932912365,30.2186898741871,31.1676047181711,26.0490599263459,25.8147370446473,28.0225698010996,31.0221589466557,32.2707508169115,27.1608436940238,25.7638021783903,26.0092405349016,25.0206259954721,25.2050314750522,25.7531280221418,25.7214001655579,26.8938746569678,28.2997573075816,24.6177745519206,29.1073245506734,27.2617451995611,30.7423882363364,30.7331220882013,25.8857818162069,25.9254182981327,27.7236940544099,28.6449284194037,29.3679501535371,27.668373902142,28.671361464262,25.8087390046567,26.3322918089107,26.3460451243445],"y":[14.6867648247629,16.7657380128279,15.6902600791305,18.9362515943125,22.2472413463518,18.2633530661464,17.9573311753571,17.2693056104705,17.8240150678903,17.8436092745513,21.0954024616629,20.6220041718334,17.9072240766138,18.2342823367566,18.9889240138233,22.6427527749911,23.2623021762818,18.637435102649,18.9763534536585,17.6584055138752,19.3659279249609,18.6460597431287,17.9884590012953,15.6384924888611,17.3200924851,17.9550551602617,15.8397067915648,20.6022728888318,20.7094338849187,21.0178192516789,21.0273113921285,17.6700225271285,17.9969689279795,18.7706735491753,21.3678841780871,17.7834150116891,18.6823317727074,20.9284423243254,15.6396487781778,18.2066237848252,17.1462875328958],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.8217276854441,23.6503516817465,22.124377967976,21.7973570728675,23.85587507952,23.9553881824017,16.964230160974,21.9183479426429,21.2565031444654,23.0319642227143,22.7033151982352],"y":[18.3731136413291,17.1979592936113,16.0435516152531,15.7400463076308,17.1929329544306,17.213861262612,10.6952733857557,15.302089667879,14.639160162583,15.669309290871,16.2103564314544],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.0793463310227,18.1141311354935,17.2829712091014,17.0382194949314,18.7491038151085,19.118798478134,12.391744701378,16.7027150370181,15.0912181230262,15.7223130093887,12.0717318721116,17.2290565043688,16.7746763959527,16.1873341292143,11.6066598666832,14.7793200185522,16.1293614126742,17.391752352193,14.9596562935039,16.6234392734244,16.7733909277245,16.1707132682204,15.9000215116888,16.9015683019534,15.2084730971605,16.8956736478955,20.0674206895754,20.0056832924485,21.8660991450772,17.1608858447522,19.2112943615764,17.8634357178584,19.8179577112198],"y":[14.8594306571409,13.6100546089932,12.7410925734788,14.2172019340098,14.0942870086059,13.9328497970477,9.16337997689843,10.9906408809125,11.0256547631696,12.0868853157386,9.02764008454978,13.225800257735,13.2238261424005,11.8489696409553,9.23970448654145,10.9247257046401,11.382587267831,12.7608997743577,11.14584303312,13.6800194589421,13.9234071141109,12.6370363838971,12.9317454434931,12.7701696634293,10.9421903481707,13.2149320608005,15.2652811629698,16.3544173302129,16.9126165110618,14.8861815324053,14.9652516752481,15.2832397481427,15.6694834141061],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.6973385475576,25.2707150870934,26.2607546238229,24.1051709812135,20.9582334581763,21.9412317164242,23.0210428152233,21.773379509151,20.1323785400018,33.0675018139184,32.3004054671153,31.8027072058991,28.6626397516578,31.8105078166351,33.7165515493602,35.7630357444286,35.6308584107086,29.1074296703562,25.9532754614949,28.9649452127516,27.6728733310476,27.0707508966327,23.7901697635651,23.8130105983466,23.7067326271907,26.2011275030673,26.2895372195169,26.3702954402193,25.8332802252844,44.2560494525358,41.2822191661224,28.6346180373803,25.6941836861894,28.1944516878575,29.271585572511],"y":[17.9317999396473,17.8287264570594,16.6096120765433,16.0677634302527,14.689096926339,15.2640981655568,14.9985040290281,14.7291297953576,14.3408254468814,28.2606463896111,23.7493458021432,24.8893850376829,23.3950211837888,24.0632874520496,25.8897745784372,24.6410530937836,24.3459673669189,20.6596922568977,19.1231672458351,19.2302314482629,20.0391657404602,19.8101389372721,16.9988141437992,15.710121624358,17.0687122834846,21.206776163727,19.3195216488093,18.6445587506518,19.306717110239,35.1458448911086,29.0521802432835,21.045868438296,19.3425292123109,19.9245204813778,20.1282294912264],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.0762980550528,15.0352584708482,19.8238686738536,16.7457370435819,16.6842383258045,19.0287220617756,13.646543462202,14.6062718283385,16.6005630487576,17.2924187000841,17.3611052142456,12.1130171973258,16.7351654984057,16.1648518141359,18.2509024148807,14.6283558249474,16.7520820651203,16.6541309967637,18.2527888150886,17.0548933362588,19.1922592783347,17.2802959399298,19.1815641835332,19.3925352167338,16.9645100761205,22.0645480515435,19.1721729662269,19.9443292122334,16.8443404465914,12.3318196162581,18.7015416644514,18.2302447758615,14.0356300635263,14.9083874767646,17.7361967058852,17.7359192719683,15.1706644192338,16.8394215641543,16.3996858110651,18.3202425217256,17.070238478668,18.6424911741167,19.1254169289023,17.3090129867196,17.0921025127172,16.9058006890118,19.9150987006724,18.2615298882127,25.1972889108583,24.3254532475024,27.3159641264007,25.3285378567874,26.0887942420319,23.0207298303023,20.1258388003334,20.1645728630945,19.0005778163671,17.0785094151273,20.2727134563029,16.8967424722388,15.382510802336,17.7260592933744],"y":[14.0202782951295,10.8896750455722,13.6461655164137,12.7164703493938,11.7184756316245,13.8672821732238,10.6703833900392,11.1593869663775,13.7439868498594,12.7580643087626,12.8921236256137,9.30316305980086,12.6663170231506,10.7661080772057,13.3392912777141,11.2471273584291,10.6196736464277,10.7519465152174,12.2797086969018,13.9885564303026,15.3510259322822,14.134641574882,13.3409956643358,12.8338123137131,12.7821026656777,17.0404593653977,14.772819102183,14.8468286965042,13.7230486890301,8.68648984227329,13.7690169120207,13.3289724664763,10.751514814049,11.0919900070876,12.2391726065427,11.7482133455575,11.1626997714862,10.6756127398461,11.2282080247998,12.1695327697322,13.9385394934565,13.1352227469906,12.944890457578,12.69869856406,14.365516974777,15.2392825327814,14.245807482861,12.1742230430245,18.1455433633178,18.0796750541776,20.1932087287307,19.1745588943362,19.793664598465,18.2456211145967,14.7948313489556,15.9513921201229,14.6536620182917,14.8213247623295,15.6404367541894,14.3562621725723,10.6499289093539,12.9348673000932],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.97419038739055,45.8885189318284],"tickmode":"array","ticktext":["10","20","30","40"],"tickvals":[10,20,30,40],"categoryorder":"array","categoryarray":["10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.36352208983153,36.4688126435503],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767a1784fc6b":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767a1784fc6b","visdat":{"767a1784fc6b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Marvel at what one can do here: * Get additional information by hovering your cursor over a point * Filter classes by clicking on the corresponding legend items * Click and draw a rectangle with your cursor to zoom into the plot</p>
<p>But there is one thing that bothers me. If I move the cursor across the plot window, then the plotly options bar at the top of the window overlaps the “class” legend label. Can I fix this by moving the legend to the bottom?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-c434cc046bf97a464ebc" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c434cc046bf97a464ebc">{"x":{"data":[{"x":[25.9615080995485,23.1187809161842,25.622838775441,25.3421119775623,23.722500981763],"y":[15.9369999218732,15.3904648985714,15.9109518708661,14.9568334409967,15.14961845465],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.129122514464,28.8960860302672,31.1811686864123,29.9502583766356,26.1627541825175,25.8261990666389,27.2796318599954,25.7701347284019,25.3892347255722,28.1529746510088,26.9081210942939,25.0834154676646,25.1377866461873,25.3115525729954,25.1650299092755,28.9425108909607,26.8913010042161,25.3169974489138,26.6569009663537,24.871941483207,26.7261038297787,27.0725986700505,28.7031317343935,31.1200963154435,30.8016744749621,26.3905386948958,25.7269394109026,27.3465320041403,30.0923087267205,33.3088088523597,34.9743803650141,37.2632414139807,34.8551094636321,29.0772060872987,25.935125409998,28.7291619088501,28.6557272315025,24.3224074460566,44.1012681381777,29.0952038999647,25.9718661250547,29.0922002257779,28.837678411603,28.653932078369,28.9938507543877,22.6076517784968,24.0434715207666],"y":[18.2711258035153,21.2520177006721,19.6310399990529,20.8979102531448,16.0829959075898,17.7939071346074,17.9127593889833,18.2615098917857,16.1340130308643,20.3843949282542,19.201210177131,14.7294386178255,16.8783495180309,16.8646123923361,14.9808576466516,20.7221387797967,19.2846596697345,19.9529387753457,20.3132172543555,19.0121001832187,19.8955536212772,20.7481557732448,20.7107795527205,21.1318453416228,22.1801994366571,18.3207315485924,17.7316399196163,17.7565927475691,24.3685993544757,23.6593714233488,26.3776446081698,27.6062789492309,26.3687354270369,20.9146725023165,18.6031046584249,20.7824878949672,21.7438135471195,17.399120015651,32.8487238867208,21.0370943840593,19.1109317354858,21.6378495659679,21.2066408421844,21.1609567824751,21.0254596658051,16.2237024500966,17.0724113857374],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.2648555420339,24.7838949013501,22.7444964597002,26.8273443797603,29.8366119144484,26.1259865144268,28.6730152387172,26.233919402957,26.0631557302549,27.2914681058377,30.1655441470444,31.0068639654666,25.9871693598107,25.9511024687439,28.2603409223258,30.9771466761827,31.9020993335173,26.7628156049177,25.8991919105873,25.8916664872319,25.2616458639503,24.9334940839559,26.3922851646319,26.28748019021,27.3337993241847,27.9325768526644,24.9541472604498,29.2124596808106,26.9566119894385,30.7230142002925,30.8290717313066,26.3738626169041,25.9870156282559,27.973527639918,28.8902928436175,29.2570131732151,27.7647685419768,28.6868472676724,26.0352237360552,25.8119230380282,26.101573317498],"y":[14.6372943717986,16.9176068739966,16.0390912480652,19.0348203381524,22.1075865142047,17.8004773747176,17.8299056107178,16.9146373545751,18.2570282915607,18.2551195744425,21.2966357991099,21.0800908066332,17.7592457205057,17.8735967423767,19.0813449302688,22.8390616068617,22.7054295323789,19.0722863817588,19.2885263709351,18.3525632606819,19.2007986269891,19.1393321111798,18.3347581353039,16.1025590531528,17.0145911075175,18.2208047082648,16.2381396895275,20.8370455121621,21.1799572123215,21.326978247799,20.9556777436286,17.6518900405616,17.9703344071284,18.9448722725734,21.1661253361031,17.9109235286713,19.1068120529875,21.0933706980199,15.7209510345012,18.0966041645035,16.7255636911839],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.142742177844,23.8003062807024,22.1442363118753,21.694439586252,23.8792936656624,23.996455742605,17.3219033069909,21.673587314412,21.2598812334239,22.6829835992306,22.923719792068],"y":[17.7182594960555,16.7573177965358,15.7354284876958,16.1424754595384,16.8726450683549,17.3981884455308,10.600941910781,14.9187880607322,14.9012770259753,15.8422793963924,15.6601384595037],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.9037557840347,17.8465777141973,17.003012306802,17.1757982123643,19.1362578563392,18.7116468565539,12.1103362293914,16.9851100049913,15.3253629423678,16.0197732757777,11.9442433932796,17.2480648968369,17.1352082801983,16.2122263615951,12.2205572001636,14.7679805116728,15.6514247534797,16.7645350059494,14.7436916841194,16.6881255768239,16.7324313666672,15.9486247071996,16.2863544719294,17.0008750166744,15.0858926085755,16.9854494430125,19.8830675441772,19.7275572557002,22.0922558581457,16.6331029692665,18.8489911269397,18.1625532586128,19.9720080375671],"y":[15.1168106563389,13.7663997108117,12.7535340545699,13.6308182284236,13.8171572744846,14.0711839195341,8.76854613367468,10.9189850611612,11.3159458419308,12.2004231348634,9.03135719522834,12.8037601089105,13.1026681186631,12.0612438505515,8.97804190404713,10.9205497965217,11.0966614715755,13.3331481622532,11.3407282071188,13.8811589878052,13.6461378214881,12.8713492922485,12.9204602116719,13.2453096451238,10.6938233852386,12.8371759239584,14.6972163591534,16.265672342293,17.2087134944275,14.9893632130697,14.7402053305879,15.0501383179799,15.7815471598879],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.041759839654,24.6399884430692,25.7575474593788,23.8581962380558,20.634700415656,21.771726664342,22.8645418455824,21.7307805551216,20.0652721449733,33.3297388168052,32.3422133104876,32.1252684643492,29.2935150239617,31.7876781912521,33.9269760908559,36.1032875239849,35.7698290416971,28.7286474537104,26.2618760284036,29.371527071856,27.6576502578333,27.0286144688725,24.2928937565535,24.1206725113094,24.1497430535033,26.2998465539888,26.224101998657,25.7366551458836,26.3845329400152,43.8975355183706,40.9944479683414,29.1835137154907,25.696816319041,27.9568205848336,28.7725305566564],"y":[18.0603331452236,17.6808606252074,16.9847081767395,15.9374818304554,14.6591258926317,14.8759239602834,15.2268681557849,15.3066650435328,14.3836987456307,27.9464723225683,24.2149838695303,25.0288533234969,22.6743116550148,24.0177871856838,26.0582060839981,25.061254612729,23.7785397555679,21.3306257307529,18.709491578117,19.1626016598195,19.8852137971669,19.8713972242549,16.9156918805093,15.8802782565355,17.030106167309,21.0992142863572,18.6688580155373,19.1672899655998,19.1187678344548,34.9804438970983,28.973787217401,20.9364290248603,18.9974095167592,20.2659668169916,19.9360079964623],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.2236811514944,14.7569903613999,19.603774840571,17.3323425702751,17.0859811570495,18.9471255987883,13.949778511934,14.9876943062991,17.2869955113158,17.2380740663037,17.2837848175317,12.1406207151711,17.3687402127311,15.9956773068756,17.6368478601798,15.2568252846599,16.8704300712794,16.622213184461,18.1546566585079,16.6868259364739,19.145859981142,17.0359174469486,19.208537941426,19.2354261269793,17.3078926812857,22.0980301178992,19.2101958582178,19.7191162372008,17.3609455632046,12.3587268330157,19.1386249659583,17.8518530445173,14.2418576557189,14.9318574570119,18.3594983313233,18.0620198380202,15.380602569133,17.0312412148342,16.2257166203111,17.8174030464143,17.2671431005001,19.0700358374044,18.6589101843536,17.0572572400793,16.8851938514039,17.2935780432075,20.055984614417,18.2222486391664,24.7859882393852,23.6943136515096,26.8139301905409,25.3397509988397,26.3674195893109,22.986180087924,19.746429612115,19.9214183440432,18.6581035902724,17.0885636338964,19.9867910591885,17.3624484652653,15.0749041277915,18.3105977211148],"y":[14.3435351714492,11.2121689470485,14.2082718417048,13.392081535235,12.2645769039169,13.6424022721127,10.813084860146,11.2046398317441,13.6837078725919,12.8607923356816,12.784632714279,9.19496679715812,12.9173001231626,10.745436802879,12.730839732103,11.3584318278357,11.3412665668875,11.2936222359538,11.9176284024492,14.1297853432596,14.8079109409824,14.225959225744,13.3047885216773,12.8789154550061,13.0664529699832,17.2921288773417,15.3189025292173,14.6841458166018,14.3676187429577,9.3234319249168,14.3965604512021,13.269790687412,11.0296816607937,11.2703156817704,11.7111268142238,12.1843286013231,11.2601623628289,11.2186217991635,11.3453585019335,11.7751165904105,13.6294527476653,12.6271191626787,13.3172016166151,13.384298713319,14.1091265818104,15.3238663913682,14.1747625123709,11.9813119554892,18.2626687005162,18.3178979363292,20.2802123276517,19.1908115696162,19.9536846755072,18.1912610378116,15.2165524417534,16.1371200893074,15.1224821755663,14.6098902143538,16.1789291711524,13.9997042918578,11.115366580151,12.8951067715883],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.3363921560347,45.7091193754226],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.4579512455035,36.2910387852695],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767abd89308":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767abd89308","visdat":{"767abd89308":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Hmm, it appears that the legend cannot be moved by this. Do other changes in <code>theme()</code> get registered? Let’s check by applying a theme.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme_light</span>()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-eb70d6b5a15be1b691a9" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-eb70d6b5a15be1b691a9">{"x":{"data":[{"x":[25.9803569950163,22.7055676238611,25.9964949283749,25.2895824221894,24.2644732220098],"y":[15.744774065353,15.0942528249696,15.959750107117,14.7033568745479,15.3781817900017],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.6138685407117,28.6733287908137,30.7010603498667,30.3797767393291,25.8688767466694,25.8493751261383,26.9047016773373,26.0398233637214,25.1853577574715,27.6923869766295,27.1594268126413,24.8287226753309,24.9176719278097,24.9260115418583,24.7479381715879,28.7883264273405,27.3904383616522,24.947592744045,26.9353247242048,24.7894231516868,26.8049224089831,27.2428631439805,28.8209885451943,30.7698209848255,31.1653865855187,25.6552775228396,25.7924336459488,27.3528113145381,29.6162574823946,33.3255952542648,34.8747851047665,37.3671557387337,35.2998279472813,29.2098490998149,26.2233947593719,28.91062985342,29.3660653315485,24.0880348244682,44.0304184384644,28.8121989984065,25.8889040786773,29.3537819908932,28.656064834632,28.7627583488822,29.3111177407205,23.3626997986808,24.1184477776289],"y":[18.2125960376114,21.1836167892441,20.2424604590982,21.1072236284614,16.1574544405565,17.7750477969646,18.0385248878971,18.3628219110891,15.7471400201321,19.907812175341,18.7487157464027,15.0414743876085,16.6650826590136,16.8698276970536,15.3067066544667,20.826202804409,19.0815297074616,20.1677302468568,20.0437839077786,19.3852537857369,19.9484813017771,20.7815328218043,21.0239261500537,21.2650092884898,21.922026149556,18.1060174256563,17.8543809924275,18.3937953211367,24.121164239943,23.6055045127869,25.7533239457756,27.644171143882,26.3343846896663,20.8205082938075,18.6365597765893,21.2511687761173,22.0332651361823,16.9632961560041,32.9545366114005,21.3882205104455,19.2874075364321,22.2840405583382,20.7492774212733,21.1461750576273,21.2264609105885,15.9967031260952,17.1893678300083],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.9529774416238,24.6696027981117,22.7469930127263,27.2969914970919,29.6932779785246,25.9331332491711,28.7558634079993,25.7593453953043,26.0861445050687,26.9034047842026,29.6517403569072,30.8532797135413,25.8097898732871,26.0906715404242,28.2218236736953,30.7595744948834,32.2564726850018,27.1922609655187,25.7924613311887,26.267864171043,24.8135136108845,25.1085007734597,25.8567952251062,25.8964611737058,27.3986102985218,27.9055029565468,25.2857886765152,29.120798072964,26.8758203733712,31.380839137733,30.6481816941872,25.8738381201401,26.3038016460836,28.1116370415315,28.7539390133694,29.2173376251012,28.3007909880951,28.7412241283804,25.8820312406868,25.848908017762,26.1482349602506],"y":[15.2422704238445,17.1656204525381,15.9381745273247,19.0005118697882,22.3191320886835,18.0098561089486,17.9875654263422,16.7719286315143,17.7916003078222,18.3557972172275,20.8482673015445,21.072753666155,18.1329052582383,18.3544598199427,18.9568689927459,23.396042858623,22.8317190820351,19.2219616984949,18.7779777133837,17.8205170685425,18.9150984099135,19.1879649829119,18.2566570274532,15.8500639457256,16.6077570391819,18.1606982450932,16.3549609040841,21.0195377774537,21.2160051578656,21.2096313238144,21.2749657740816,17.9366923693568,18.2676738906652,18.7472869381309,21.3525013254955,18.1582156291232,18.7189064726233,20.6878175241873,16.2649188341573,17.632598779723,16.7114422939718],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3338836992159,24.3769681369886,21.9225683391094,21.9396353008226,24.3408843491226,23.9797199938446,17.1009761793539,22.2265861326829,21.2253237754107,23.257169877179,22.76136944592],"y":[17.7123283552006,16.7801326312125,16.2996036313474,15.8502043401822,17.081076358445,16.9021122720093,11.2686202062294,15.0411918429658,15.3739010944963,15.7627504572272,15.85963316001],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.9412345211953,17.6222824923694,17.3513964006677,16.7491326080635,19.3093446819112,19.3782312037423,11.9863861504942,16.6279496992007,15.2378788555041,16.0825098242611,11.8057015188038,17.0864254239947,17.06107007768,16.3303267309442,11.6660067979246,14.969294183515,16.1233833521605,17.3529386073351,15.1606678398326,17.3778860490769,16.9899566559121,16.3091598674655,16.1050975956023,17.2010329099372,14.8818454788998,16.8617285462096,19.8316813614219,20.2199997827411,21.8141156157479,16.7300795406103,18.8187767343596,18.3295965123922,20.3422805115581],"y":[14.899712825194,14.379690175876,12.9093415191397,13.880761882104,14.0469642942771,13.8003285389394,8.99584141857922,11.3288673553616,11.1205419206992,11.7204627178609,9.19383918046951,12.8720569141209,13.2340070575476,12.2058178016916,8.70209220163524,10.7315449547023,10.8987225346267,13.1671814547852,10.9841991256922,14.188737497665,13.9229262074456,12.6053544158116,13.3995275432244,12.7869010813534,11.0157690804452,12.8814292142168,15.1751959886402,16.0752369428054,16.9120572371408,14.7606935661286,15.1801836308092,15.1383521052077,16.0804238548502],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.9307399883866,24.6116101088002,25.6039112810045,24.1919151932001,21.1153373233974,21.9685277383775,23.0223883664235,21.9479217760265,19.8149743918329,33.2514876194298,32.3228879192844,32.0707586649805,28.89182613343,32.2175179215148,33.6595490694046,36.1470106016844,35.6226969353855,29.1052653381601,26.3863919800147,29.3023976694793,28.0299475600943,27.1159176122397,24.2926628626883,23.7227136481553,23.7349378809333,26.2129239015281,25.6586478866637,25.9515134427696,25.8034103633836,44.0840220563114,41.360327360034,28.8386017352343,25.8532178992406,27.7071990799159,29.2940584044904],"y":[18.1130118208006,17.6079704588279,17.3078400172293,15.8381749128923,15.2822275288403,14.8216129498556,15.1188635308295,15.2916260574013,13.9465758729726,27.7601955665275,24.2614633429795,24.7093825679272,22.6166251054034,24.1021161008626,26.2110270120203,24.707994876802,23.8161098398268,21.1439948260784,18.8349890261889,18.9274956392124,20.2663972310722,19.9717089356855,17.1049598887563,15.9201965466142,16.7575348351151,20.8354651227593,18.763113305904,18.6675636129454,19.2434459449723,35.340716027841,29.25775945317,21.0648365590721,19.2672942165285,19.6611419288442,19.6553888890892],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.0619679119438,14.9500283123925,19.9841786196455,17.3209061674774,16.8389051763341,19.2432304585353,13.6664120383561,15.2445137586445,17.2820891970769,16.9688102997839,16.9864169126377,12.3403832651675,17.1905330117792,15.9316954119131,17.8846653489396,14.9793442029506,17.2625993810594,16.9586235841736,17.7408304950222,16.956290964596,18.9008329691365,16.9200784849003,18.8819627249613,19.2186892919242,17.1034408222884,21.6386445194483,19.1519241657108,19.8696836056188,16.9736181925982,12.1957846868783,19.1023267958313,17.6647315815091,13.7098419012502,15.0494699899107,17.9338756024837,18.2841862857342,14.8975668162107,16.9599426263943,15.897078954801,18.2495123265311,17.0859435977414,19.1098799690604,19.1472846731544,17.1159481571987,16.6604761043563,17.2823085630313,20.2591586116701,17.9351889872923,24.6661088889465,24.3609677242115,27.3569643413648,25.2194938303903,25.9855365449563,22.8890522707254,20.2770933186635,20.0339020751417,18.7385419271886,16.7848343994468,20.363685519062,17.2595250761136,14.6491764662787,18.23361802008],"y":[14.3515833100304,10.8625764878467,14.2076471181586,12.6280510598794,12.0658322673291,14.0187507519498,11.3376966817304,10.8760775897652,14.2466682435945,13.3465501571074,12.6410127002746,9.02889291234314,12.9897486586124,11.0531353006139,13.2513103837147,11.0651513531804,11.307209489122,11.2639399576932,11.731400828436,13.6773925634101,15.2096762742847,13.9605802958831,13.2543353352696,12.8822749368846,12.9107524076477,16.9408396665007,15.2339139424264,14.9532740216702,13.8657084286213,9.3522434964776,14.0198177352548,12.8528721477836,10.6952601807192,10.9947101343423,11.9384776035324,12.0992345713079,10.9999870304018,10.7037058442831,11.2786659538746,11.9391184527427,14.2400180118158,13.3107780473307,13.2626798771322,13.0758048065007,13.8419692656025,15.1688710751012,14.2336931986734,12.3895849136636,17.7163503739983,17.8380867030472,19.7945767596364,19.0166577050462,19.6670924443752,18.1721436521038,14.9089188171551,16.0105905311182,14.7740218406543,15.1193462396041,15.7813674530014,14.2561925699934,11.0660448156297,13.2352837538347],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.0451060350053,45.7049228192307],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.37016101032496,36.6726472191513],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767ae3514e1":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767ae3514e1","visdat":{"767ae3514e1":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Apparently, at least some changes will be conducted. Let’s see, if I can use <code>layout()</code> as shown in the <a href="https://plotly.com/ggplot2/getting-started/#cutomizing-the-layout">getting started documentation of plotly</a> to move the legend.</p>
<p>The R documentation of the <code>layout()</code> function is somewhat minimalistic. Basically, it refers to the <a href="https://plotly.com/r/reference/#Layout_and_layout_style_objects">online plotly reference manual</a>. Using the table of content on that website, one can easily find the <a href="https://plotly.com/r/reference/layout/#layout-showlegend">layout options</a>.</p>
<p>I believe the options <code>xanchor</code> and <code>yanchor</code> are exactly what I need as both of them can be set to options like <code>left</code>, <code>bottom</code>, etc. Though, I wonder why the value <code>auto</code> was not changed by <code>ggplotly()</code> as the initial plot <code>p</code> contains <code>legend.position = "bottom"</code>.</p>
<p>In any case, I am not a hundred percent sure what kind of syntax <code>layout()</code> requires. An example in the R documentaion would have been nice. Well, let’s try the straight-forward approach then.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">xanchor =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Well, that didn’t go as expected, but the warning displays valid attributes and <code>legend</code> is among them. Upon closer inspection, I also realize that, according to the reference manual, <code>xanchor</code> and <code>yanchor</code> have parent <code>layout.legend</code>. So, I guess, I will have to use this somehow. Maybe, pass a list to <code>legend</code> via <code>layout()</code>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">xanchor =</span> <span class="st">"center"</span>)) </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-6f8f4579acf69cc01673" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6f8f4579acf69cc01673">{"x":{"data":[{"x":[26.1201934056357,23.0722794365138,26.2129144173115,24.8299923647195,24.3662171436474],"y":[15.8585554990917,15.0510620772839,15.8616288989782,14.9304803723469,15.3282262792811],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.7742623284459,29.0647055447102,31.1204659735784,29.7050720931962,25.7104978621006,25.8201513184234,27.138442523405,26.197682569921,25.2912811366841,28.3299219235778,26.6581842321903,25.0471240155399,24.6100096795708,24.7168358536437,24.8071012502536,28.765209071897,26.734627943486,24.7975054750219,27.0957021536306,24.7397801499814,26.7042466375977,26.7939614076167,28.8230843795463,30.7752976080403,31.2723673984408,26.1355766544119,25.8055210297927,27.2766848705709,29.74826857429,33.180735001713,35.0076378408819,36.8781460106373,35.024987472035,28.6396594332531,26.1474425764754,28.7941253710538,29.2319990310818,24.0148799732327,44.3586570158601,29.079911628738,26.1633116845042,29.3390486983582,28.9220019126311,29.3665405008942,28.6834685336798,23.0169463146478,23.7905937848613],"y":[18.1747259614989,21.2918071892112,19.7670626960695,21.2183550285175,16.1578580601141,17.6917295234278,18.3350530071184,17.8527220062912,15.6852875888348,20.2707839047536,18.6416419718415,14.9805967403576,16.7808747122064,17.3740320689976,14.6439284449443,20.7820530552417,18.922055374831,19.8602018365636,19.9747378118336,18.6187465662137,19.7489150583744,21.3708248589188,20.6901255365461,20.6565507311374,21.8985435839742,17.7864435521886,18.2326949186623,18.1243707491085,24.2668625060469,24.0167126433924,25.8190568545833,27.9167210789397,25.7532046381384,21.1795401768759,19.3062698185444,20.852443163842,21.8973787816241,16.9133461356163,32.8512192377821,21.1965691940859,18.6925632731989,22.0509020663798,21.3147134235129,21.1247340917587,20.9527410598472,16.3492844535038,17.2637605294585],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.9619472911581,25.2693731896579,22.7316942691803,26.8172694504261,29.6106624988839,26.3996229089797,29.1005372362211,26.2886370653287,26.1516957961023,27.0237560648471,30.1970426181331,30.6318133348599,25.6308648305014,26.2232063479722,27.82604318019,31.1230038061738,31.708596528694,26.9121909933165,25.8801934547722,26.3744344642386,24.9258516747504,25.120410300605,26.0780424190685,25.7115962326527,27.0084219682962,27.9473218291998,24.8965997077525,29.328876433149,27.1841798134148,30.7602063586935,30.8678611399606,26.0944388501346,26.0443091813475,28.1914212822914,28.6005559530109,29.2889020310715,28.0109711738303,29.2547597534955,25.9746492078528,25.9687360638753,25.9623570814729],"y":[14.7064347207546,17.0514084847644,15.7747198749334,18.764029334113,22.009197405912,17.6541092479602,18.3921052072197,16.8260291814804,17.7117169352248,18.1193740341812,20.6432254061103,21.1843177061528,17.7989504829049,18.0783048834652,18.7729659777135,23.3639248361811,23.0003756148741,18.7031024614349,18.6719900649041,17.9330196438357,18.8157012259588,19.0540942329913,18.3143841341138,15.76228070613,17.0721696035936,18.0388284130022,16.1822012402117,20.6789950594306,20.6468149634078,20.7700875971466,21.2806590635329,18.1459453100339,17.9726969044656,19.2629976617172,21.1545163111761,17.6928907556459,19.1602706829086,20.8380273777992,16.3466370910406,17.6483827207237,17.1641467120498],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3539057286456,24.125925561972,22.3495284676552,21.6586281241849,23.8766508381814,23.9183811472729,16.9514168953523,22.2467803746462,20.729175414145,22.6788465678692,22.761224687472],"y":[17.6987726122141,17.046736176312,16.3595814729109,16.3100925439969,17.2087038317695,16.6443205839023,10.7591438349336,15.1255243418738,15.2613799065351,16.2719243895262,15.8753513112664],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.78264546711,17.9220857530832,17.2533562142402,17.1987642783672,19.352359396778,19.3886793740094,12.2925532119349,17.0693810587749,14.8479453794658,16.1869138473645,12.0843403981999,17.0749285416678,16.6779991479591,16.2819926340133,12.0362528838217,14.9695984806865,16.0609254665673,16.6153504891321,15.190019967407,17.1316082566977,16.6632390769199,15.6586813146248,16.1502132536843,17.3345021268353,15.0949495453387,17.0647904276848,19.6964195743203,19.9043968034908,21.9246968114749,16.7132553992793,19.3943469103426,17.9147093219683,20.3776132920757],"y":[14.6160053040832,14.1665000813082,12.920112884976,14.0091688286513,13.8540297158062,13.6544408688322,8.88932777941227,11.2224125115201,10.9192434236407,11.7780226500705,8.93458125907928,12.7652496404946,12.7932621078566,11.8707809455693,9.1868607416749,11.1686114087701,10.8813814206049,13.3707225231454,10.7660637581721,13.6871915958822,14.0181866344064,13.24918705374,13.052687945962,13.2160917453468,10.646085431613,12.6986297948286,15.0677515767515,16.247716283612,17.1777073428035,15.0235440474004,14.9201348584145,15.0161061495543,15.8752657452598],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.311291154474,24.9326281867921,26.1733383962885,23.6522458884865,20.6203574519604,22.0799305353314,23.0247004281729,22.1346492294222,20.0104528749362,33.0617497650906,32.2962325040251,32.2814338022843,28.97424932383,32.3867743974552,34.3501186011359,36.2925558691844,35.7136051533744,29.2013980712742,25.7667354159057,29.1264638790861,27.6212487854064,27.0003889348358,23.787645698525,23.7144042873755,24.1241666560993,25.760487062484,26.3176162056625,25.7901253178716,26.0031964639202,43.6856245117262,41.1317289162427,28.7587282309309,26.0579376699403,28.2186039851978,28.7640726486221],"y":[18.193747372739,18.0382531402633,17.0792048383504,16.2916724126786,15.0154722433537,14.9752793693915,15.2992198446766,14.6238915754482,13.9779225874692,27.6875781897455,24.0952300770208,25.1795690283179,22.7136993531138,24.2780699143186,25.7133007522672,25.3407890215516,24.2270891437307,20.6156958984211,18.753045893833,19.1378471296281,19.7320795657113,19.8636710487306,17.0001249073073,15.9696455053985,16.6654515814036,20.6434468423948,18.6529800819233,18.7860051019117,18.9729542115703,35.2463419843465,28.8915283473209,21.2380833676085,19.0174463370815,19.9997792098671,20.3770197205246],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.0774009043351,15.1980827158317,19.971643554233,17.193060685508,17.1051709290594,18.9923806542531,14.0570576313883,14.8900425015017,16.8037509353831,17.1025433067232,16.6765828961506,12.1670263918117,16.711371836625,15.9109499447048,17.957598898001,14.9468175437301,16.8066511068493,17.3849402952939,18.1291259840131,16.7858488894999,19.0691559530795,17.2488252196461,18.9168488889933,18.9022817909718,16.7314517559484,22.1982562804595,18.9965016372502,20.0342926928774,17.2103741986677,11.9074953207746,18.6666513573378,18.2048180218786,13.6426182888448,14.9126591332257,17.7526996396482,17.6493325496092,14.8765750691295,16.737832862325,16.1331201387569,18.0134310439229,16.9585784157738,19.1797144321725,19.3900739941746,17.1356922078878,17.3088039947674,16.6886245056987,19.8794313983992,17.775085259974,25.3141162607819,24.2494204917923,27.3332749726251,25.2800585824996,26.0856940655038,23.0673074638471,19.7510291682556,20.3787196496502,19.2784669911489,17.0771526642144,19.6160028310493,16.8765840344131,15.1580495513976,17.6534968696535],"y":[14.3025657113641,10.645621047169,14.3497816953808,12.9730893025175,12.3077042229474,13.6477572260424,11.2916286861524,10.6385686451569,14.1244475029409,12.9225906645879,12.7499425740913,8.69543098658323,12.6516349390149,11.3137416506186,13.2859130771831,10.6306953364983,11.3089725770056,10.7354249704629,12.0411713687703,14.2252450125292,14.8591216854751,13.6480337761343,12.9265138618648,12.8939925417304,12.6529389336705,16.7861391697079,15.3939763974398,15.1976203106344,14.233913189359,8.63562455121428,14.3925479819998,12.6082909503952,10.9506111679599,10.9648610265926,12.1114722387865,12.0020657250658,11.3286743178964,10.7358330992982,10.7008985888213,11.8209862332791,14.0284168647602,13.3316109394655,13.056951212883,12.8621363859624,14.3738546356559,14.7966259159148,14.0647558033466,11.6307063283399,18.2521855102852,17.9658597696573,19.9770779026672,18.9958515955135,19.8326445640996,18.2711929792538,14.6949484555051,15.9577231109142,14.9567931283265,14.6777064168826,15.9395066305995,14.3265685373917,10.9072469942272,12.6070904351771],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.2849372360203,45.9812151006144],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.30508867955767,36.5768778560031],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"xanchor":"center"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767a56342d40":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767a56342d40","visdat":{"767a56342d40":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Aha! At least this did not crash again but the resulting plot does not look as I would expect it to. Let’s see what happens when we change <code>yanchor</code> as well and then we’ll go from there.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">xanchor =</span> <span class="st">"center"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yanchor =</span> <span class="st">"bottom"</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-7c3115c4586cd9ee42e9" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-7c3115c4586cd9ee42e9">{"x":{"data":[{"x":[25.6388159822673,22.6600397907197,25.7108224257827,25.2963781591505,23.8451157690957],"y":[15.7838135160506,15.1331451930106,16.1135822668672,15.0688532143831,15.0107517274097],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.0708909876645,28.8035393370315,31.1539521295577,30.3198911175132,25.7112812103704,26.183776479587,27.1646578868851,25.9147535113618,25.3818129265681,28.085126545094,26.7866006856784,24.9661278368905,24.8496573589742,25.1909363452345,25.2103046916425,29.2428599627689,27.3835120607167,25.3402339829132,27.3526785235852,24.608197940141,26.6913820337504,26.7433731168509,29.2312848350033,31.025895216316,31.3323995495215,26.2054782552645,26.3289100084454,27.19170804061,29.7050777215511,33.002348760888,35.2814018949866,36.6699908705428,34.8088384864852,29.0909736091271,26.2629765372723,29.0263022262603,28.8142475569621,23.6855419898406,43.6661700086668,28.6665517071262,25.6667080145329,29.1350819805637,28.6195635842159,28.8381798246875,28.7113557154313,23.3968677757308,24.0251408152282],"y":[17.915652295202,20.776585325785,19.7191799813882,20.7477896392345,16.3963786093518,18.2651604888961,18.0631564268842,17.6892468132079,15.7959959547967,20.3014003373682,18.8025143822655,15.3975160583854,17.3343615787104,16.7100781189278,14.8952792443335,21.0847867242992,19.3622439956292,19.8224732937291,20.063053317368,19.2216997232288,20.2745146317408,21.333413101919,21.0403250463307,20.6462675705552,21.8467656750232,17.8102243222296,17.6602504231036,17.9310254933313,24.2346750084311,23.9641856735572,25.6943798454478,28.0593979490921,26.0675261791795,21.1216094298288,18.8309209637344,20.6339461779222,21.6930875165388,17.0535304455087,33.2891051705927,21.1060069896281,19.2206751417369,22.0832003772259,21.131721377559,20.9384457530454,20.6140462910756,16.1520939547569,17.0441781513393],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3205387642607,24.9006070269272,23.3458467449993,26.8506175447255,29.7814043104649,26.1077228875831,29.3426277790219,25.6274817006662,25.6224847059697,27.0532311009243,29.8178593695164,30.8582009730861,26.3549766834825,25.8365262955427,28.2558584893122,30.7262642785907,31.6000644909218,27.1976970816031,26.3714203760028,26.3988865667954,24.9269296944141,24.8793557085097,25.7961620688438,25.7121314633638,27.3803603250533,28.3995638713241,24.8208049613982,29.2144306700677,26.6354265468195,30.8140227351338,30.9975422361866,25.808962212503,25.6579445060343,28.2192042475566,28.8072142358869,28.876725977473,27.7315095460042,28.6023004690185,25.8942170221359,26.0515733774751,26.0788024904206],"y":[15.2024882212281,16.997757701762,15.9690592715517,18.9835242554545,22.3324886253104,17.7321825627238,17.837503765896,17.0382531117648,17.6490051524714,18.0307461734861,20.6241763189435,21.0137579152361,18.3204861423001,17.8330143947154,18.8234225124121,22.9568647006527,22.8707781910896,18.9021215567365,18.9614218726754,17.6925723595545,18.8818338273093,19.1893835322931,17.8180029124022,15.9975473307073,17.230590612255,17.6206637445837,16.1025532174855,21.1300209466368,21.3892002210021,20.8629368577152,20.9426571050659,17.8666121741757,18.0306491622701,18.8446436373517,20.754434796609,17.7179257409647,19.2636892473325,21.0384006345645,16.0414776837453,17.682343846187,17.086380524002],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.9980080459267,24.2575196539983,21.919795451127,22.1958754494786,23.983142243512,24.1626877235249,17.0243567975238,21.6895121386275,20.7079184362665,23.0706262117252,23.3082246763632],"y":[18.3268759684637,16.9425816489384,16.3206844188273,16.2424029979855,17.1767240194604,17.2156489498913,10.9632731741294,14.6717030255124,15.1513912135735,15.736852731742,15.6506696028635],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.1594390546903,17.7621651837602,16.6394534392282,17.2125089593232,19.0528482267633,18.9804155630991,11.9179785741493,16.8834386801347,14.7682901211083,16.2859125256538,11.6227042391896,16.839640262723,16.9582445131615,15.9851249380037,11.7712589897215,14.8489681910723,15.7596283441409,16.6647430690005,15.0406036542729,17.0196125660092,17.0341659193858,16.3259997755289,16.0440053407103,17.292040836066,15.2156995901838,17.3527311779559,20.3614680970088,19.7010269561782,21.9952956996858,17.0791600611061,19.1987177558243,17.6915232792497,19.8595006776974],"y":[14.7322073735297,13.8738714408129,12.7047889167443,14.2290423607454,13.8161083124578,14.0658775953576,8.61562037598342,11.1649965073913,11.1778876323253,11.6714335080236,9.1241396445781,13.3583035297692,12.9667366920039,12.0895982306451,9.13342092838138,10.7241089073941,11.3752798667178,13.1042479790747,11.0621724383906,13.9573813833296,14.3761266151443,12.9429911864921,12.6972634848207,12.6125425655395,11.2764749340713,13.1589131917804,14.9524921968579,15.8120001239702,16.8373138211668,15.1924564460292,15.2887109408155,15.1188355877995,16.1626209836453],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.7802187489346,25.2260230220854,26.2800697304308,23.708882486634,20.841313601099,22.2312126616016,22.8584437353536,22.1642516395077,20.1177023075521,33.2258336503059,31.8519612323493,31.7178237793967,28.6147480977699,32.0174815699458,33.9132981125265,35.7403944691643,35.9547828041017,28.8087847271934,26.1854034289718,29.0651348304003,28.3471817499027,27.3037121444941,23.8235611503944,24.1850503053516,24.3027585148811,25.8428866188973,25.8221626637504,26.1628993218765,25.7540426677093,44.3029879512265,41.2659673444927,29.0347805600613,25.7310428231955,28.2874642550945,29.1722303986549],"y":[17.6751671597362,17.9974847346544,16.8241357766092,16.1493962397799,15.1801345007494,14.9079263783991,14.9774578651413,14.8888745483011,13.6159344838932,27.9017291668803,24.1339030267671,25.1894292926416,22.9780630022287,24.2807384664193,26.3535487735644,25.1321435062215,23.9336724588647,21.0855411555618,18.6425805920735,18.9863974299282,19.8189775247127,19.7315162057057,16.6577373655513,16.1450896222144,17.1556217677891,21.0780862454325,19.1396616451442,18.9850507270545,19.1908668197691,34.6846562171355,29.2755203286186,20.6229588268325,18.7793647194281,20.2239184474573,20.1561364466324],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.0607902823016,14.7225642627105,20.2381824517623,16.7006313726306,17.3036034064367,19.1396198775619,13.7178554546088,15.3149531595409,17.2029596062377,16.7538355574012,17.2317123305053,11.9419574659318,17.2230612592772,16.0578753681853,18.1329432576895,14.7229122918099,16.8953337950632,16.9264002818614,17.6624976674095,16.9170643983409,18.9747913865373,17.2037972504273,19.3098215185106,18.8677480759099,16.6548115910962,21.6324119774625,18.7387615526095,20.1310625039041,17.3035460514948,11.7832755362615,19.1406514659524,18.3312776139006,13.9726357121021,14.6402673684061,18.3433039288968,17.7599096931517,15.0057044442743,17.2930265648291,16.0621948169544,18.3793812451884,17.0783957261592,19.0783419236541,19.103297226876,16.8680743221194,16.6018421821296,17.338513408415,19.9489446116611,17.6044545998797,24.8004339184612,23.8288486232981,27.3804129673168,25.0350226512179,26.0620242774487,22.8721922725439,20.1371922645718,19.6002305742353,18.8920493915677,17.3560864722356,20.2409026348963,17.2275356991217,15.1268009066582,18.1410339536145],"y":[13.9236828994006,11.1421388199553,13.9455102495849,12.6321242613718,12.3045699335635,14.0943480005488,10.7535191012546,11.3152311103418,14.0999532947317,13.169556812942,12.6457373520359,9.32126105930656,12.9515249704942,11.3089061785489,13.2852605076507,11.2418821252882,10.7811970466748,10.9297970812768,12.3354205623269,13.8426000131294,15.2842783674598,13.7498724589124,12.6180032378063,12.7833546509966,13.2023797528818,16.7066904999316,14.8815698353574,14.6696079313755,13.9797519681975,9.37728396169841,14.2404335634783,13.2296739945188,10.8046769885346,10.6463473992422,11.8837008584291,12.0188852172345,11.0310930306092,10.6859857954085,10.737061727792,11.9287064837292,14.362579556182,13.1942811228335,12.8644259363413,12.8286128202453,14.168578071706,15.1681955127046,13.6309980781749,11.745293764025,18.2921271195635,17.9625625198707,19.6751999186352,19.0519974790514,20.0010761264712,17.6517332211137,14.9215814325958,16.0670384485275,15.3384397126734,14.8327884329483,16.3612789696082,13.7208962723613,11.1268014300615,13.1136271512136],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.98869005358778,45.9370021368284],"tickmode":"array","ticktext":["10","20","30","40"],"tickvals":[10,20,30,40],"categoryorder":"array","categoryarray":["10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.31216858392581,35.9881080091931],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"xanchor":"center","yanchor":"bottom"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767a538d6524":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767a538d6524","visdat":{"767a538d6524":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Unsurprisingly, this did not help at all. In retrospect, I don’t know how I could think that changing <code>yanchor</code> as well would magically cure things. Again, referring back to the manual (I should really read the descriptions instead of relying on the possible values), it appears that <code>xanchor</code> only sets a reference points for the option <code>x</code>. Same thing for <code>yanchor</code> and <code>y</code>.</p>
<p>So, how about changing <code>x</code> and <code>y</code> instead? Possible values for both options range from -2 to 3, so my best guess is that ranges from 0 to 1 refer to the window the points are plotted in. Consequently, moving the legend to the bottom could be as easy as using a positive <code>x</code> value and negative <code>y</code> value which are both close to zero.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="fl">0.1</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.1</span>))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-3b77040f15fb87eb8985" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3b77040f15fb87eb8985">{"x":{"data":[{"x":[26.1545612713322,22.7535397510976,25.6368407435715,24.8735556015745,24.2482188675553],"y":[16.3855189131573,15.1019158625975,16.0936224130914,14.8175537440926,15.3102193569765],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.7368325885385,29.2157405942678,30.8209319574758,30.3873136894777,26.142225080356,25.8994364090264,26.754077014327,26.2767788875848,24.7872155657038,28.3798497408628,27.0817625021562,24.9468976607546,25.1430589675903,24.8294319864362,24.8449887646362,28.6521462326869,26.9889155356213,24.7115206593648,26.6431253496557,24.7200358411297,27.1935986982659,26.8882147049531,28.9398802746087,30.9059251574799,31.3096886379644,26.3803502639756,26.3461849663407,27.0990423781797,29.7548745213076,33.2478515692055,34.6823177151382,36.696893590875,35.185329018347,29.0914548730478,25.8363752808422,28.8012771837413,28.6909478351474,24.3638813083991,43.6679050952196,29.1940608847886,25.8533032415435,28.8562795285136,28.9946029735729,29.3895948013291,29.3510802127421,23.0991191554815,24.0237760270014],"y":[17.9245134098455,20.7564448751509,20.0574264785275,21.0638947105035,16.1483447713777,18.1655274949968,18.1721033418551,17.7847683927044,15.9715455204248,19.9548275180161,18.9187209600583,15.2020806683227,16.9512116232887,17.0501513203606,15.2430102817714,20.9453193549067,18.6142767798156,20.3781633572653,19.6037421185523,18.8695806877688,20.0169757489115,20.640204147622,20.9303705371916,20.9480683447793,22.0311654748395,18.027454800345,18.0534708512947,17.8085566448048,23.8647980995476,23.9569405175745,25.9650226956233,28.115882665664,26.392826865986,21.2141544498503,19.1208218777552,20.7016677213833,22.1874493384734,16.7249495467171,33.1208681862801,21.0255205236375,18.6117154212669,22.3825951362029,21.2945012915879,20.8496917156503,21.0172515844926,15.6479058312252,17.3729640135542],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.6500494707376,25.2532481137663,22.6390969874337,27.2173267170787,29.9176491044462,26.3267668684945,28.9642965827137,26.2146761246026,25.678767856583,27.0473444031551,29.6310083869845,31.0203397633508,25.6195484971628,26.328986726515,27.6026464434341,31.0282337790355,31.7004942201078,27.3433430286124,25.6207385623828,25.9420368904248,24.7134658191353,24.8033458907157,26.1931365000084,26.0895377455279,27.1453360537067,28.0958720257506,24.7846198670566,29.2290313737467,26.6623412627727,31.134962884523,31.0399500874802,25.6603286230937,26.0503268193454,27.7423702903092,29.1713448347524,28.8797151071951,28.0311818579212,29.0502235075459,25.8799865104258,26.3724355436862,26.0448540190235],"y":[14.7780098881572,17.3066830020398,15.6651608457789,18.7460021868348,22.3300149606541,17.7097520491108,18.1293816816062,16.9833616232499,17.9280948957428,17.9784810420126,21.0981071848422,21.1599597949535,17.7322853466496,17.8486434744671,19.0395753018558,23.3692955246195,23.3681483497843,18.8778156893328,19.3941963324323,17.6191534908488,18.7997013546526,19.3385613122955,17.7017749302089,16.296960702166,17.3426277745515,18.292613106221,15.985845999606,20.7699772091582,21.3081370817497,20.919408214651,21.0411893535405,18.0809446087107,18.0604108756408,18.816229484044,20.9956241728738,18.0879464514554,18.6819020541385,21.397581846267,15.9676674323156,18.113254397735,17.16084598694],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.196224418655,24.3232613001019,21.9346356883645,22.324701978825,23.8063497224823,24.159908952564,17.2134111866355,21.8005378719419,20.6582397190854,22.7759530188516,22.9513987716287],"y":[17.9877824474126,17.3437816513702,16.0731610186398,15.9965695235878,16.8739326557145,17.2403221230954,11.1321151763201,15.03005247619,15.2027922395617,15.9095771562308,15.6547490235418],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.3498113727197,17.6625225048512,17.1024659715593,16.6910239569843,19.2621722836047,18.880431128107,11.9722439788282,16.7911079600453,14.7489487877116,16.2272140888497,12.2027210524306,17.0903508875519,17.3622349791229,15.8347247270867,12.0548673639074,15.1073775686324,16.2882410174236,17.32074175179,15.0041196215898,17.332608528994,17.3777510641143,16.1836190707982,15.8002634743229,17.2710366528481,15.2931835064664,16.8195973927155,20.0779502624646,19.8255293769762,22.1599707284942,16.8291130209342,19.2579678770155,18.3241702882573,20.2014140801504],"y":[15.3743425358087,14.0732129644603,12.9272534985095,13.9781727584079,14.277387265116,13.87329836227,9.09684362523258,10.610066865012,11.0422176415101,11.9480773549527,9.31635171771049,12.7854922618717,12.7906134251505,12.1269437760115,9.02227456625551,11.3793956043199,11.3200615962967,12.6457735236734,11.1046547928825,13.800595122762,13.9571077646688,12.7697107493877,12.6267603110522,12.8515426969156,11.0121725888923,12.6681041469797,15.1822504505515,16.2655952716246,17.0991627860814,15.0045019682497,15.2372271941975,15.0003553321585,16.1918160472065],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.6261883925647,25.0845695991069,26.0535250777379,23.963458045572,20.8720432797447,21.7121012281626,22.767920910567,22.3029596405104,20.1997822232544,33.3137480847538,32.0692874541506,31.7069712962955,29.0306400848553,32.0458942156285,33.6599835416302,35.6138699559495,36.1176483817399,28.7262918952853,25.6892768455669,29.1245725004002,27.8488064449281,26.6648912694305,24.0901279758662,23.7976921293885,24.1363226024434,25.6865049617365,26.3380173260346,25.767932154052,25.7152899708599,44.1477069653571,40.6131918655708,29.3607821622863,25.6496161712334,28.3476936146617,29.019157037884],"y":[17.9018792720512,18.0919718133286,17.0574008615687,16.256352490373,14.6054953742772,15.0571395566687,15.1691575387493,14.8838648725301,13.7417922979221,27.7774929139763,23.6439426168799,24.9729758528993,22.7707823736593,23.6759218946099,25.9705416362733,24.8236382763833,24.3293933114037,20.91056917198,18.6104700980708,18.66327677425,20.1021520128474,19.6277185322717,17.0533841552213,16.3665927954018,17.169793042168,21.2401783205569,19.2803514301777,18.6022873831913,18.9795292479917,35.3734856083989,29.2590916745365,21.3759004157037,18.8264997767285,19.908349593915,20.3830887388438],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.3105726649985,15.0241128752008,19.8523422140628,17.1395160641521,17.0937347993255,19.2180973786861,14.182986254245,15.0763789109886,16.9611082842574,16.8126775216311,17.1090152971447,11.9245984679088,17.2712611520663,15.7570768233389,17.8940198140219,15.0020162623376,17.1515854667872,16.6033149080351,18.1175497518852,17.1898707469925,18.8035383759066,17.3557473927736,18.873689801991,19.1585186744109,16.6792328774929,22.0325640298426,19.1618981961161,20.1505889214575,16.9649413388222,11.8234691601247,19.0696304094046,18.1959703464061,13.717750977166,14.9613439820707,18.1234388682991,17.7789312241599,15.0528685769066,17.0128887457773,15.7784573974088,17.8980006495491,16.8623215187341,18.610417759791,19.2001270703971,17.0512722974643,17.3810164844617,16.6892607836053,20.1362251548097,18.2975024882704,25.3157403187826,24.2978733869269,26.6822324357927,25.2359746586531,25.8881260313094,22.8231406603009,19.680767724663,20.3273636152968,18.9528816344216,16.7060617689043,19.7752696312964,17.1233400311321,15.0299912061542,17.9572978511453],"y":[13.6475781075656,10.9327241567895,14.1792868131772,13.3071965390816,11.9317011034116,13.7058113839477,11.1210282588378,11.249885923788,14.2502841960639,13.186821167171,12.6217135684565,8.62194989230484,13.3737640202045,10.896251883544,12.6307059001178,11.2351867053658,11.2869348896667,11.2483615603298,12.3984846066684,13.9598304469138,14.9579321742058,14.1453343205154,13.3653195252642,12.9959564777091,13.2118573846295,17.0065258782357,15.2104450937361,15.3372774561867,13.746578778699,8.64388999305666,14.3234794890508,12.8150272594765,10.963904633373,11.2952650696039,11.7882819762453,12.2162068843842,10.9449523689225,10.8806878425181,11.0675026062876,12.3045117843896,14.0978567119688,12.7755237327889,12.9708368457854,12.6334170114249,14.151650766097,14.7050645655021,13.9393043097109,12.1913279302418,18.1340923601761,18.242137918435,20.2839972572401,18.745477123931,20.2650714244694,18.1237571101636,14.6426224403083,16.2560182780027,14.9119847515598,14.849725674279,16.0538792954758,14.1854546235874,10.9651783321053,13.0026247560978],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.207257269863,45.7639188556187],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.28437310650013,36.7110623942036],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"x":0.1,"y":-0.1},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767a23b45f81":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767a23b45f81","visdat":{"767a23b45f81":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Now, this brings us closer to what I had in mind when I set <code>legend.position = "bottom"</code> in <code>theme()</code>. Possibly, we can change the orientation of the legend from vertical to horizontal, tweak the <code>x</code> and <code>y</code> values a bit and then we’re there. Scrolling through the manual (again), reveals that there is an option <code>orientation</code> which can be set to <code>h</code>. This sounds promising.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">0.1</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.2</span>, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">orientation =</span> <span class="st">"h"</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-fc694cb2e42c47e7b4a1" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-fc694cb2e42c47e7b4a1">{"x":{"data":[{"x":[26.2350442295894,23.0362123610452,26.1174173338339,25.0667302405462,23.8541520617902],"y":[16.2861322041601,14.756287821196,16.0013980682939,15.1772052140906,15.2481384301558],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.7856983352453,29.2780240133405,30.9964350506663,30.1899607563391,25.9522234808654,26.0043953154236,27.0952449848875,26.1782901810482,25.1088850902393,28.3471508147195,27.2825913624838,24.7539355153218,25.2979409720749,24.8552588572726,24.86192132961,28.8623760862276,27.1312419554219,25.3932429617271,26.9164638811722,24.9763093767688,26.6194982400164,26.896549186483,28.8110351894051,30.8448159990832,30.8456345366314,25.7315948821604,25.9289810575545,26.9236815083772,30.2890472995117,33.2868827698752,34.6251602398232,37.3741896454245,35.0078039616346,28.9373584464192,26.3085060503334,29.3044260773808,29.3028969615698,24.0189737519249,44.1734485337511,29.0724386315793,25.6668625241145,29.3304117053747,29.158863269724,29.3745619120076,28.7035443263128,23.0824986239895,24.0281161256135],"y":[17.7546887381002,21.3645361980423,20.317733684741,20.7638612151146,16.167712437734,17.7897474009544,18.2971397951245,17.6297600766644,15.8924164609984,20.2915479561314,19.3529629757628,14.6921662848443,16.7947047090158,16.8708719424903,15.1612912796438,21.2569640707225,18.6120868645608,19.6155001707375,19.8545128362253,18.6844796001911,19.9454296506941,20.9579350596294,21.11255293414,20.9452763209119,22.1122018253431,17.9302149135619,18.0615369983017,17.9161240732297,24.3847079610452,24.2947456855327,26.3047536302358,27.8355776613578,26.182249164395,20.7359865797684,18.7255393592641,21.3007436651736,21.8751223484054,17.2939775554463,33.380769649148,21.0402470471337,19.0205123476684,21.7858056446537,21.1355719730258,21.3289262332022,21.1713092889637,15.8486401321366,16.8777426024899],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.1287601001561,24.6345149520785,22.7767958799377,27.0349762910977,29.8170043567196,25.7411429656669,28.6136779172346,25.8026867641136,26.1357339210808,27.0542480304837,30.2521057063714,31.2702864680439,26.2560195516795,26.08124406524,27.8956815788522,31.1680245317519,31.7423198979348,27.0792682554573,25.9913039080799,26.3270050400868,24.6955934589729,25.1578327231109,26.0318826060742,26.0198809955269,27.1994463412091,27.6975116988644,24.8795876434073,28.8955523744226,26.9794430578128,30.6166959134862,30.7983755767345,26.0352107301354,26.3367428079247,28.162567021139,29.2061569029465,29.3803355369717,28.0182121461257,29.1096413681284,25.7060319803655,25.6456108214334,25.9243023050949],"y":[14.9374037463218,17.3416983010247,15.731611113064,18.8362595848739,21.9358519537374,17.6003060013056,18.2388544231653,17.1225055247545,17.7383884595707,18.1672824412584,21.3505712907761,20.7497636662796,17.6338423252106,18.3715048797429,19.2631362231448,22.9778489036486,22.7712261818349,19.21527013015,19.2944127433002,18.2491947941482,19.0768355259672,19.2429696632549,17.8296030834317,15.9736317802221,17.2275535948575,18.0688591852784,15.8067051628605,20.9613857857883,21.0119167497382,20.8748976316303,21.263849658519,17.7500364745036,17.9002241149545,19.3330881945789,21.1460506862029,18.1224498830736,18.6234764721245,21.2810466241091,15.7002602016553,17.9436707800254,16.6043249923736],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.1383824024349,23.8416240852326,22.2654131501913,22.2162142518908,24.2354117333889,23.7131988812238,17.324019020237,22.049859184958,20.9371986791492,22.9412412323058,22.8268049789593],"y":[17.8722178995609,17.2818408133462,15.847695430927,16.2972098063678,17.1325571147725,16.9350534198806,10.9026169087738,14.8450058663264,14.7544242311269,15.9954044919461,16.1232138887048],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.8482275895774,17.885791557841,16.6030112454668,16.8917294122279,19.0434965103865,19.1886646462604,11.9120836809278,16.6540939431638,15.0072874382138,16.32216387894,12.1001200003549,17.1647064287215,17.2870098184794,15.9624138118699,12.2685378726572,15.0457714119926,15.7765041694045,17.1960631649941,14.9922803074121,16.8017575090751,16.9775818092749,15.7103369463235,15.6218289386481,16.9761971889064,14.7329283526167,16.6888680484146,20.3435693824664,20.0909149151295,21.9367350474,16.8314848864451,19.3497270163149,17.6648305548355,19.8545670436695],"y":[14.7899184919894,13.7862072553486,13.0937182035297,14.1730108419433,13.6886554954574,13.8178487764671,8.7064228983596,10.8935895318165,10.7287433128804,12.1849292270839,9.10613789800555,12.6977458257228,13.2867300039157,11.9841579625383,8.66980377379805,10.9773205246776,10.8937724977732,13.1832869179547,11.2022070838138,14.1674548598006,13.6597269905731,13.3051330244169,13.2456693489105,13.1729808259755,10.8210249880329,12.6529724067077,15.3261177478358,16.3453778686002,17.2650419842452,14.7112312197685,14.6167300634086,15.3400926016271,15.7582873143256],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25.8643382126465,24.6154049325734,25.7336902674288,23.9402615275234,21.2658583559096,21.799204018712,22.6472302526236,21.6664193002507,20.1676524059847,32.8695309024304,32.1087533410639,31.9698788713664,28.9147503273562,32.0681206634268,34.3603317270055,36.1234262365848,35.9538435349241,29.1108869871125,25.7667419051751,28.9365804601461,28.2847592845559,27.1439896086231,23.8884295556694,24.1507939904928,24.1376410679892,26.3167653925717,26.0970431795344,25.6169720688835,26.3023076334968,43.6748782938346,41.3352406026795,29.3721485339105,25.7235343977809,28.3353241609409,29.1175923122093],"y":[17.6585281996056,17.9743706401438,16.6103009270504,15.8045000877231,15.3804897824302,14.9758303837851,14.8451968539506,14.8259097889066,13.8775534434244,27.9578902611509,24.0745179949328,24.9443474426866,22.972758677043,24.2354457192123,25.9705384021625,24.7569233939052,24.1060081079602,20.8735112063587,19.3160944588482,18.9796444719657,19.7335000412539,20.0309406263754,17.0389523357153,16.1724157320335,17.0572386777028,20.8778686068952,19.337592304498,18.6919705135748,18.7000925295055,35.1219315772876,28.7892352716997,20.7366223689169,18.7486577162519,20.297954114154,20.268435491994],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.3984415458515,14.6335923694074,20.3687034394592,17.3825284346938,16.8376102056354,19.0560438238084,13.67985936068,15.0971026252955,16.624344454892,16.8846323600039,16.8224766869098,12.2143769007176,17.327733339183,15.881880204007,17.8628187699243,14.6651626566425,17.1166262649,16.7098697904497,17.6850125299767,17.1891299679875,19.0659680873156,16.7440959511325,18.720639076829,19.0061868997291,17.1356335664168,21.7242614354938,19.2614354252815,19.8010998459533,17.2533542722464,12.2046930518001,18.8231764523312,17.7144959276542,13.6405729917809,15.0473166782409,17.6671406581998,17.9740148834884,14.7885358765721,17.3062960473821,16.1027185760438,18.0008719649166,16.9199146371335,19.2841932546347,18.6933912899345,16.9502277197316,17.0940699055791,16.9430110896006,19.6357056135312,17.6515921305865,25.1793966721743,23.9468285633251,27.1118810329586,24.6642111428082,25.7199279254302,23.3153789576143,19.8462433509529,19.9909339472651,19.0542284155264,17.3115724187344,20.0152540812269,16.9207052581012,15.3134446054697,17.7244947195053],"y":[14.1599532302469,11.3895140690729,13.8574682405218,12.7101493803784,11.7898034038022,14.0393181456253,11.1960222866386,11.2235291747376,14.118750330992,12.7960769303143,12.6590786928311,8.97121011205018,12.7207356536761,10.6608454413712,12.784734502621,11.059205474332,10.7642567042261,11.1102691581473,12.3562749529257,13.6828918453306,15.1307331647724,13.7394948950037,13.2457250526175,12.6517103007063,13.0430950835347,17.0494257817045,15.0679175911471,15.1313027394935,13.8383117588237,8.78876300882548,14.095289029181,13.20487998873,10.7565367717296,11.2035284485668,12.1228525353596,11.7869823271409,10.6268247615546,11.1429063534364,10.7109679752961,12.2793639618903,13.8251987762749,13.0359508043155,12.8571632213891,12.8607723763213,13.6056764284149,15.1122694917023,13.7450793791562,11.8952878486365,17.7493319433182,18.13189236857,19.7831397432834,18.6088472465053,20.1216481156647,18.2052704432979,14.9543562933803,15.6875474309549,15.3739754227921,14.6805353933945,16.0142450682819,13.9973564820364,11.0004080044106,13.0912104904652],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.2990154382866,45.7865167763922],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.34719738362357,36.4445379674621],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"x":0.1,"y":-0.2,"orientation":"h"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767a1058f38b":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767a1058f38b","visdat":{"767a1058f38b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Nice! Finally, I am satisfied. Out of curiosity, let us investigate what had happened, if we had set orientation to <code>"h"</code> from the start.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>)) </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-c29a06b103b87c2f0148" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c29a06b103b87c2f0148">{"x":{"data":[{"x":[26.3688400013372,23.0556308165193,25.6571420164779,25.2225145163015,24.0937912002206],"y":[15.843790031597,15.2412881491706,15.6651697929949,14.6300238789991,15.3002237005159],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.3731107676402,28.9600960258394,31.3050593487918,29.7292386392131,25.60668520201,26.3968999391422,26.6687705203891,25.6170529507101,25.2638942986727,28.0260806770995,27.1875154593959,24.9371867382899,24.9806799009442,25.044764111191,24.9507259024307,29.0482911312953,27.0386890944093,25.0966967172921,27.2234445821494,24.6978763272986,26.6053171390668,26.8171288689598,29.2034686200321,31.0851724369451,30.7760689653456,26.3312476458028,26.181287310645,26.610854194127,29.6296419836581,32.8709548763931,35.0088703190908,37.206756974943,34.6778929838911,29.2638108760118,25.8628478093073,29.2342188643292,28.6668275358155,23.7301020545885,43.9489421041682,29.3918232358992,25.9038306884468,29.2661535337567,28.9207354770973,29.0447958189994,29.1146732604131,22.7359978847206,23.9557020513341],"y":[17.8094267869368,20.6540082674474,20.1075585823506,20.6368288997561,16.2759827358648,18.190413681604,17.9934569001198,17.6215463496745,16.1298670196906,19.6698246629909,18.6720010945573,15.3057789394632,16.9202765217051,16.8241594277322,14.8799614047632,21.1515970783308,19.255179663375,19.7295796370134,19.6268572077155,18.6481830364093,19.9299259088933,20.898576624319,20.6903432033956,21.1359445052221,22.207158652693,17.9249914394692,18.2488942826167,18.2902894848958,23.8833132898435,24.1983507473022,25.6281526850536,27.6929578419775,25.7931523326784,21.1281931219622,19.0271060705185,21.0572428781539,22.0640381744131,17.005491599068,33.365904683806,21.2896022249013,19.0501606846228,21.8264598373324,21.0669725045562,20.8777033537626,21.1961796788499,16.0836955092847,16.6048404958099],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.337465698272,24.721784420684,23.0982159785926,26.7986321084201,30.314612752758,25.7708009691909,28.7641728917137,25.6348500788212,25.6985546503216,27.3204512296244,29.7105303602293,31.3934454059228,26.1386911727488,25.8139486996457,28.2495914110914,30.7080401176587,32.2441584857181,26.9188426375389,26.110820334591,26.3296612519771,24.6513280548155,25.3289438001812,26.2287650043145,25.9321849171072,26.6951718132943,27.740628451854,25.1030152933672,29.0820192612708,26.6022268153727,30.6669911006466,30.9956144738942,26.3564736753702,25.9513289524242,27.9535069698468,29.0666105149314,28.8836771128699,28.0565886469558,28.9137848639861,26.2311331940815,25.6078879056498,26.0186544533819],"y":[15.368024771288,16.7598351610824,16.0765848422423,18.9144960757345,22.1678417338058,17.9044905375689,18.3424051709473,17.3660279180855,17.6378490209579,17.9118080724031,20.984419878386,21.2617048969492,18.1350333573297,17.9646176477894,18.6942626969889,22.9966633692384,23.168302241154,18.7886533228681,19.0167999492958,17.9151721075177,18.7726375441998,19.0510585002601,17.6480854969472,16.0295642018318,16.6919499184936,17.8601868242025,15.766174636595,20.6501918241382,20.7929288808256,20.6827081436291,20.7136901101097,17.9635875483975,18.2043229989707,18.9937613224611,21.3067066408694,17.8669403517619,18.9708490755409,20.6734292199835,15.9917635129765,17.7921968257055,17.1885566063225],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.0298159617931,23.6858607951552,22.1124898256734,22.3189970001578,24.1607221757993,24.2377028090879,16.8566640390083,21.6768932506442,21.0098262436688,23.0789828319103,22.700937538594],"y":[18.2801307369024,17.2572352284566,15.8327459178865,15.6313443180174,16.8062948722392,17.1464777585119,10.9638298295438,15.3902794413269,15.0674671236426,15.8015303041786,15.8644368197769],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.7952088285238,17.9266825770959,17.0820108540356,16.6703296970576,18.6714669110253,19.3759745389223,12.0477416390553,17.0151285141706,15.0907560778782,15.6988434722647,12.2347657978535,16.7321970678866,16.7395328206941,15.6353834722191,12.3822903081775,14.8360270567238,16.1044681861997,16.9607951041311,15.3662597572431,16.7190397251397,17.3242812853307,15.6335566543043,16.0780971327797,16.6266624193639,15.2092504611239,17.0044619893655,19.8129669096321,20.1459549149498,21.6218154100701,17.1822134802118,19.25421975106,17.6331457382068,20.0261134224012],"y":[14.9602610073984,14.3758621742949,12.9948120810091,14.3947578813881,14.124496130459,13.8513663243502,8.81428802795708,10.9293110355735,10.788620945625,11.6498402945697,8.76838442776352,13.0933926701546,13.3835065625608,11.626220295392,9.15784304719418,11.1637543659657,11.0016429338604,12.8521785138175,10.9202352425084,14.1710306031629,13.7695942906663,13.0912099609151,12.84233348649,13.0439239997417,11.2678296396509,13.1033053865656,14.9249733241275,16.1040526119992,16.6584171950817,15.1635095808655,15.2620186215267,14.8993717208505,15.877782580629],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.0315504610538,25.0250361153856,25.6777564823627,24.1742483420297,21.2557782355696,21.7946734908968,23.3231343181804,22.2943643106148,20.2286880847067,32.9518565360457,31.6953931350261,32.3390200886875,28.7422801284119,31.951221005246,33.9325838834047,36.2917352918535,35.7775079743937,28.8138370944187,25.807896762155,29.3908187190071,27.8694390106946,26.8889226295054,23.9539403036237,24.2716243918985,23.7188119255006,26.2829792875797,25.8217335944995,25.8420038631186,25.7128377085552,44.2305884717032,40.6329779468477,28.9981184497476,26.1096436815336,28.3273702835664,29.2665860965848],"y":[18.3646654564887,17.9476454276592,17.0499622501433,15.8441331164911,14.9544317603111,15.1917354596779,14.7226805835962,14.9990895697847,13.9383447933942,28.0720238223672,23.6356031473726,25.2957655599341,22.8644851699471,23.7367606271058,26.1367343965918,24.7401233050972,23.679592882283,20.7910757370293,19.1155873455107,19.1724131006747,20.300130985491,20.011651116237,17.3480661878362,15.7514834830537,17.1575707370415,21.3321721553802,19.2925209209323,19.2104919224977,18.9184058779851,34.6942800661549,28.7648174969479,21.3775560889393,18.9449664430693,20.01101244241,20.1003242790699],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.8820840956643,15.3103264603764,19.8779122751206,16.9456683201715,16.792420918867,18.9512777259573,13.7382645981386,14.7970553204417,17.1307465357706,16.7031150167808,16.940858380124,12.2098374595866,17.0842478631064,16.114641688019,17.8328306188807,14.7881330933422,16.9550080165267,16.655211770907,18.0826500233263,16.9324400443584,19.337520833686,17.0535765873268,19.0877441957593,19.0911037040874,17.1744660651311,21.7297915235162,18.8339817265049,20.3551398063079,16.6150748003274,12.0490083685145,18.6183662261814,18.2082299344242,13.9017353093252,15.0155800716951,18.3186149945483,17.8786118533462,14.8563360575587,17.3535858592018,15.6858021406457,17.8189344935119,17.1301612820476,18.9780886933207,18.6708002451807,17.2987768501043,17.0765362072736,16.6491793934256,20.2153026828542,18.3963554926217,25.2717590164393,23.7961679974571,26.627982673794,25.1987469550222,25.6399767195806,22.6512015610933,20.1899708140641,20.0026731546968,19.1691159125417,17.1339317370206,20.0695090962574,17.32632623557,14.6564883740619,17.8987531527877],"y":[13.6022846613079,11.1195606708527,13.9848321048543,13.0752446087077,12.3756259780377,13.7703759705648,11.391271472536,11.0348740307614,14.0635447418317,12.9295440072194,12.6884294643998,8.71872151624411,13.2111558217555,10.9287358650938,12.8281960472465,10.7104663342237,11.3865714157,11.1743503578007,12.1830143440515,14.0882068172097,15.0177402781323,13.617752436921,13.2023771604523,13.3706222774461,12.6765709090978,17.0765746278688,15.3460068473592,15.2900056984276,13.6470346592367,8.809035095945,14.2887473652139,12.8286013584584,10.8998609725386,10.8841609898955,11.8757368266582,12.2898563399911,11.1253070123494,11.2761441355571,11.3635108491406,11.8792339639738,14.2646850304678,13.2168035810813,13.3803974844515,12.9584923114628,13.7778258623555,15.1339200098068,13.7016470955685,12.2515480641276,17.7989555329084,17.9814224241301,19.7716121725738,19.2036042729393,20.0481575293466,17.9840661821887,14.6096308650449,16.0825088357553,15.3870041370392,14.7131620362401,15.6790336636826,13.6658281929791,10.6084440575913,12.8471099229529],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.4385992974229,45.8397308133356],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.41994358874857,35.9930579936504],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"orientation":"h"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767a15521895":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767a15521895","visdat":{"767a15521895":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This already looks nice enough, so our manual tweaking was not technically necessary. But then again, this does not recreate what <code>legend.position = "bottom"</code> usually does. Now that we understand how <code>layout()</code> works, we can roam the reference manual and try to tweak the legend box. Let’s try to change a couple of things. This does <a href="https://www.allisonhorst.com/post/do-your-worst/">not have to be pretty</a>, we only want to see how plotly works.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>p_layout <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplotly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">orientation =</span> <span class="st">"h"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">borderwidth =</span> <span class="dv">3</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bgcolor =</span> <span class="st">"grey"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">bordercolor =</span> <span class="st">"red"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Class"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">side =</span> <span class="st">"top"</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>p_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-524e78f84970bf09c771" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-524e78f84970bf09c771">{"x":{"data":[{"x":[25.6007585005835,23.2942358862609,26.3845147868618,24.9510619573295,23.8126183453947],"y":[16.0795839492232,14.73937794175,15.6499010540545,14.6085274208337,15.1952899297699],"text":["hwy: 26<br />cty: 16<br />class: 2seater","hwy: 23<br />cty: 15<br />class: 2seater","hwy: 26<br />cty: 16<br />class: 2seater","hwy: 25<br />cty: 15<br />class: 2seater","hwy: 24<br />cty: 15<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.8249776730314,29.146581816487,31.1018986526877,29.8446908574551,26.226057212241,26.3679485749453,27.1856449248269,25.9674511710182,25.1171795317903,28.2095068972558,27.2664851635694,24.6133728414774,24.906370967254,25.0514554547146,24.9558022391051,29.2658181961626,27.3942794797942,24.7817730367184,26.7799166565761,24.8180484160781,27.1852683832869,27.1754920411855,28.6969156771898,31.0548189954832,31.1779093837366,26.2560680890456,26.0877796534449,26.8371943291277,30.3362132651731,33.3773518925533,34.7529947917908,37.3273088119924,34.6910201460123,29.0532544502988,26.0227486809716,28.9421689948067,29.0144667966291,24.3942343581468,43.9947902789339,29.3250594377518,25.6770304851234,29.2627200229093,29.2325002485886,29.1790701493621,29.1654359823093,22.9375336863101,24.0027768051252],"y":[18.1123268932104,20.8402017276734,19.8115032093599,21.2900963455439,16.2316248690709,18.2933121275157,18.3588501354679,17.6454269677401,16.2537207439542,19.9541748235002,19.2365150336176,15.010983078368,16.7151050370187,17.3264741912484,15.1300533251837,21.2023454884067,19.0999421261251,20.2009329458699,20.3605544310063,19.3992074456066,20.0926583088934,20.9786694988608,21.1932449676096,21.0399967236444,22.1200545279309,18.3752676423639,18.1963864026591,17.8148418337107,24.2813500732183,23.9407959802076,26.1445447575301,28.3656046275049,25.9342272913083,20.8724524186924,18.9255522247404,21.2338788244873,21.7485151538625,16.8907067501917,32.6534371931106,21.019451360032,18.7406640890986,21.9231884561479,20.9896836942062,21.3190856784582,21.0708846349269,16.0745383713394,17.011087869294],"text":["hwy: 29<br />cty: 18<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 20<br />class: compact","hwy: 30<br />cty: 21<br />class: compact","hwy: 26<br />cty: 16<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 25<br />cty: 16<br />class: compact","hwy: 28<br />cty: 20<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 17<br />class: compact","hwy: 25<br />cty: 15<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 27<br />cty: 19<br />class: compact","hwy: 25<br />cty: 20<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 25<br />cty: 19<br />class: compact","hwy: 27<br />cty: 20<br />class: compact","hwy: 27<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 31<br />cty: 21<br />class: compact","hwy: 31<br />cty: 22<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 26<br />cty: 18<br />class: compact","hwy: 27<br />cty: 18<br />class: compact","hwy: 30<br />cty: 24<br />class: compact","hwy: 33<br />cty: 24<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 37<br />cty: 28<br />class: compact","hwy: 35<br />cty: 26<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 24<br />cty: 17<br />class: compact","hwy: 44<br />cty: 33<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 26<br />cty: 19<br />class: compact","hwy: 29<br />cty: 22<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 29<br />cty: 21<br />class: compact","hwy: 23<br />cty: 16<br />class: compact","hwy: 24<br />cty: 17<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.348118836619,24.6525225466117,23.0883399719372,26.8256360413507,29.7392161037773,25.9827322615311,29.3887954151258,25.745531556569,25.6890088880435,27.3703354496509,29.9440532002598,31.2697115676478,25.7745420305058,26.2587103303522,27.7380313975736,30.7346094980836,32.0874272054061,27.1865629291162,25.9598374193534,25.9710788177326,25.1948233297095,24.8752804094926,26.308757176064,25.8149362692609,26.9947103865445,28.3493908766657,24.7805545415729,28.6516061486676,26.9800711384043,30.9183372570202,31.1555495239794,25.615462590009,25.7273951707408,27.6530376493931,29.219545628503,28.775144183822,27.7490004245192,29.2446211956441,25.9793053938076,26.1937546083704,25.7420546114445],"y":[15.2045554267243,17.2930355606601,15.7056038150564,18.996890344657,22.015192406252,18.0303071644157,18.145141877979,16.707007141225,17.9508993092924,17.6012200344354,20.9088315151632,20.9444602262229,18.317113818042,18.3850502487272,18.7032837787643,23.3528301734477,22.7117675479501,18.6287064155564,19.1075413016602,18.2898177649826,18.8084137823433,19.2442683111876,18.2658656505868,16.0504032736644,17.3879093173891,18.0153418656439,16.0432267781347,21.0580038350075,20.8883068282157,20.8741515519097,21.2470377271995,18.3346198899671,17.9701012460515,18.7735745662823,21.2766847025603,17.9044343648478,19.2577929824591,21.0122501136735,15.9998083919287,17.8261874381453,17.0739334089682],"text":["hwy: 24<br />cty: 15<br />class: midsize","hwy: 25<br />cty: 17<br />class: midsize","hwy: 23<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 30<br />cty: 22<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 27<br />cty: 18<br />class: midsize","hwy: 30<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 31<br />cty: 23<br />class: midsize","hwy: 32<br />cty: 23<br />class: midsize","hwy: 27<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 25<br />cty: 19<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 27<br />cty: 17<br />class: midsize","hwy: 28<br />cty: 18<br />class: midsize","hwy: 25<br />cty: 16<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 27<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 31<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 29<br />cty: 18<br />class: midsize","hwy: 28<br />cty: 19<br />class: midsize","hwy: 29<br />cty: 21<br />class: midsize","hwy: 26<br />cty: 16<br />class: midsize","hwy: 26<br />cty: 18<br />class: midsize","hwy: 26<br />cty: 17<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.3397665616125,24.0420801538974,22.1163734266534,22.2920303976163,23.6063245428726,24.3474888965487,17.0030429894105,21.8095456337556,20.8037800299004,22.7511303372681,23.3888904100284],"y":[18.1653921779245,16.7330848403275,15.8433865178376,15.9195941695943,17.2532240841538,17.0308746095747,11.0042344469577,14.8332948911935,14.9984294349328,16.294033848308,15.6635845858604],"text":["hwy: 24<br />cty: 18<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 22<br />cty: 16<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 24<br />cty: 17<br />class: minivan","hwy: 17<br />cty: 11<br />class: minivan","hwy: 22<br />cty: 15<br />class: minivan","hwy: 21<br />cty: 15<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan","hwy: 23<br />cty: 16<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.8544788246974,18.1018618142232,17.0514011604711,16.643821956031,18.8932800713927,19.0610632231459,11.8177451742813,16.6985280048102,15.3205731192604,16.2040975736454,12.0971726452932,17.1284588443115,16.722457818687,15.7175790427253,11.8209988361225,14.9955498253927,16.0233972964808,17.2580826567486,14.707847561501,17.2259458076209,17.3322553569451,16.0183767400682,16.2301644328982,16.69596154131,15.2626229420304,16.7388613423333,19.7226226216182,19.9576291758567,21.974602705799,17.350021286495,19.2887761350721,17.9765020536259,20.1447721738368],"y":[14.6069116592407,13.9571808779612,13.1632670851424,14.1217710897326,13.8215970911086,14.1789240797982,8.68507905080915,11.0788010921329,10.7925489464775,12.3910313887522,8.70993545856327,13.3907675055787,12.9382997646928,11.6517929824069,8.89275053460151,10.6207076191902,11.0951079161838,13.2378870777786,11.2463220847771,14.282166155614,14.3535168170929,13.0679349027574,13.2861820675433,13.3281726477668,10.8793769821525,13.0652090918273,14.8914475373924,16.0854200113565,16.6514904044569,15.0588792959228,15.1544952096418,14.8639915719628,16.0315417967737],"text":["hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 19<br />cty: 14<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 11<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 12<br />class: pickup","hwy: 12<br />cty:  9<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 16<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 17<br />cty: 14<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 16<br />cty: 13<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 15<br />cty: 11<br />class: pickup","hwy: 17<br />cty: 13<br />class: pickup","hwy: 20<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup","hwy: 22<br />cty: 17<br />class: pickup","hwy: 17<br />cty: 15<br />class: pickup","hwy: 19<br />cty: 15<br />class: pickup","hwy: 18<br />cty: 15<br />class: pickup","hwy: 20<br />cty: 16<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.0220044013113,24.6833620553836,26.1222068021074,24.3643158957362,20.7677178667858,22.004464055784,22.9840321982279,22.1737534483895,19.8732606690377,33.1722663948312,31.7527781605721,31.6765389801934,28.7860295206308,32.1274642838165,34.0285472741351,35.857840529643,36.355127251707,28.875467290543,25.629980853945,29.3763265090063,28.1695238508284,26.8082377072424,23.7255229754373,24.3101421549916,23.618555787392,26.1850595574826,25.824360636808,26.1523913087323,26.1233413813636,43.6554570013657,40.9338101346046,29.2943558970466,25.8311929335818,28.0726011015475,29.013628863357],"y":[17.6208733392879,18.0209678456187,17.0348261183128,15.7875880911946,14.726277673617,15.025936656259,14.625117245689,15.2070112431422,14.001708987169,27.7347939051688,24.080563271977,24.869708969444,23.2507644014433,24.3324987029657,26.109247879684,25.1562491307035,23.9897957095876,21.0342693362385,18.8362389434129,19.0336219483987,19.7257715029642,20.294602939114,17.198130983673,16.2698221530765,16.7158050281927,20.955013948679,19.2372295567766,18.9650453926995,19.1417348749936,34.7986996436492,28.7522028433159,20.7002009248361,19.2358099456877,19.8586843509227,20.0267599921674],"text":["hwy: 26<br />cty: 18<br />class: subcompact","hwy: 25<br />cty: 18<br />class: subcompact","hwy: 26<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 21<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 23<br />cty: 15<br />class: subcompact","hwy: 22<br />cty: 15<br />class: subcompact","hwy: 20<br />cty: 14<br />class: subcompact","hwy: 33<br />cty: 28<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 32<br />cty: 25<br />class: subcompact","hwy: 29<br />cty: 23<br />class: subcompact","hwy: 32<br />cty: 24<br />class: subcompact","hwy: 34<br />cty: 26<br />class: subcompact","hwy: 36<br />cty: 25<br />class: subcompact","hwy: 36<br />cty: 24<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 29<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 27<br />cty: 20<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 24<br />cty: 16<br />class: subcompact","hwy: 24<br />cty: 17<br />class: subcompact","hwy: 26<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 44<br />cty: 35<br />class: subcompact","hwy: 41<br />cty: 29<br />class: subcompact","hwy: 29<br />cty: 21<br />class: subcompact","hwy: 26<br />cty: 19<br />class: subcompact","hwy: 28<br />cty: 20<br />class: subcompact","hwy: 29<br />cty: 20<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.0748963614926,15.3608581032604,20.0106544857845,17.0743165934458,16.6185942189768,19.3921354355291,14.0982459481806,14.8059519441798,17.3264693139121,17.3387394273654,16.641080821678,12.3091073906049,16.7383028637618,16.110074108094,17.8446167724207,14.8458913348615,17.200604647398,16.9972376093268,17.6178970756009,17.0392935378477,18.8573487805203,17.2061270795763,19.2428467135876,19.2617972467095,17.2966460781172,21.753479472734,18.6890177333727,19.8567152699456,16.9421151598915,11.7429973235354,19.1735102660954,18.1580598328263,14.2730994265527,15.111258639954,17.8523130182177,17.8599094761536,15.3194909814745,16.6303588245064,16.3519857831299,17.7577449357137,17.3259455783293,18.8705432778224,18.7727463280782,17.2057933971286,16.7254243684933,17.2777486940846,19.9122372427955,18.1226637342945,25.2772956874222,23.6799646738917,26.763686962612,25.2183588493615,26.0753836516291,23.2741429004818,20.3725988384336,19.9770910717547,19.0596542015672,17.1233648104593,20.2799439156428,16.8532847508788,14.8140064099804,18.3662150591612],"y":[13.8961890418082,11.2698393994942,14.2813825197518,12.9210451871157,11.7739236479625,13.636393846944,10.8519214566797,11.2549891447648,14.2737365799025,12.6585579074919,13.3461342090741,8.93368403017521,13.2913936022669,11.0347989497706,13.3530244603753,11.178557346575,10.8505132999271,11.3190960222855,11.8405025696382,13.9805526858196,15.0096648411825,14.1942158315331,12.9457085130736,13.1097289312631,13.2647670550272,16.8418173754588,15.033217474632,14.605909649469,14.1196518253535,9.08404810931534,14.0524719614536,12.8010367836803,10.9668311074376,10.6174917176366,11.7742011966184,11.6624099319801,10.7535605482757,11.3657434685156,11.3398367304355,11.9721886506304,13.7388905206695,12.6301497718319,12.7532139951363,13.0325815325603,13.6401608830318,15.3581065895036,14.3198194939643,11.9170582447201,18.0560313479975,18.107034872286,19.9897056780756,19.21406121701,20.0544465811923,18.357814027369,15.0839912567288,16.2319046350196,14.6320763733238,15.1226393736899,15.7333982398733,13.7958735661581,10.6219759352505,13.170792774111],"text":["hwy: 20<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 12<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 22<br />cty: 17<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 12<br />cty:  9<br />class: suv","hwy: 19<br />cty: 14<br />class: suv","hwy: 18<br />cty: 13<br />class: suv","hwy: 14<br />cty: 11<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 17<br />cty: 11<br />class: suv","hwy: 16<br />cty: 11<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 19<br />cty: 13<br />class: suv","hwy: 17<br />cty: 13<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 14<br />class: suv","hwy: 18<br />cty: 12<br />class: suv","hwy: 25<br />cty: 18<br />class: suv","hwy: 24<br />cty: 18<br />class: suv","hwy: 27<br />cty: 20<br />class: suv","hwy: 25<br />cty: 19<br />class: suv","hwy: 26<br />cty: 20<br />class: suv","hwy: 23<br />cty: 18<br />class: suv","hwy: 20<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 19<br />cty: 15<br />class: suv","hwy: 17<br />cty: 15<br />class: suv","hwy: 20<br />cty: 16<br />class: suv","hwy: 17<br />cty: 14<br />class: suv","hwy: 15<br />cty: 11<br />class: suv","hwy: 18<br />cty: 13<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":0.5,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.1304076757655,45.6073799267039],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.37939802116714,36.1043806732912],"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"categoryorder":"array","categoryarray":["10","15","20","25","30","35"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"cty","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"grey","bordercolor":"red","borderwidth":3,"font":{"color":"white","family":"Gravitas One","size":15},"title":{"text":"Class","font":{"color":"white","family":"Gravitas One","size":15},"side":"top"},"orientation":"h"},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"767a7ee8d919":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"767a7ee8d919","visdat":{"767a7ee8d919":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Note how we have used lists in lists (in lists) to customize the legend. Interestingly, our initial blunder of ignoring the “parent” resp. the hierarchy of options earlier helped to understand that as an option’s parent’s name gets longer, e.g.&nbsp;<code>layout.legend.title.font</code>, we will have to use more convoluted lists to change that option.</p>
</section>
<section id="creating-a-plotly-chart-manually" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-plotly-chart-manually">Creating a Plotly Chart Manually</h2>
<p>Since we have learned how to tweak a plotly object, we might as well figure out how to create one without having to use <code>ggplotly()</code>. It is not that I want to avoid using ggplot altogether but, in principle, it cannot hurt if we can understand plotly’s implementation in the R package <code>plotly</code>.</p>
<p>So, from the book <a href="https://plotly-r.com/index.html">Interactive web-based data visualization with R, plotly, and shiny</a> I gather that the <code>plotly</code> R package implements the JavaScript <code>plotly.js</code> library via a Grammar of Graphics approach. Thus, it works similar to <code>ggplot2</code> in the sense that we can add layers of graphical objects to create a plot. In <code>plotly</code>’s case, we pass a plotly object from one <code>add_*</code> layer to the next (via <code>%&gt;%</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>hwy, <span class="at">y =</span> <span class="sc">~</span>cty, <span class="at">color =</span> <span class="sc">~</span>class)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-976a7cd9ffcef940fd58" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-976a7cd9ffcef940fd58">{"x":{"visdat":{"767a13156374":["function () ","plotlyVisDat"]},"cur_data":"767a13156374","attrs":{"767a13156374":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[26,23,26,25,24],"y":[16,15,16,15,15],"type":"scatter","mode":"markers","name":"2seater","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,29,27,25,27,25,27,27,29,31,31,26,26,27,30,33,35,37,35,29,26,29,29,24,44,29,26,29,29,29,29,23,24],"y":[18,21,20,21,16,18,18,18,16,20,19,15,17,17,15,21,19,20,20,19,20,21,21,21,22,18,18,18,24,24,26,28,26,21,19,21,22,17,33,21,19,22,21,21,21,16,17],"type":"scatter","mode":"markers","name":"compact","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24,25,23,27,30,26,29,26,26,27,30,31,26,26,28,31,32,27,26,26,25,25,26,26,27,28,25,29,27,31,31,26,26,28,29,29,28,29,26,26,26],"y":[15,17,16,19,22,18,18,17,18,18,21,21,18,18,19,23,23,19,19,18,19,19,18,16,17,18,16,21,21,21,21,18,18,19,21,18,19,21,16,18,17],"type":"scatter","mode":"markers","name":"midsize","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24,24,22,22,24,24,17,22,21,23,23],"y":[18,17,16,16,17,17,11,15,15,16,16],"type":"scatter","mode":"markers","name":"minivan","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19,18,17,17,19,19,12,17,15,16,12,17,17,16,12,15,16,17,15,17,17,16,16,17,15,17,20,20,22,17,19,18,20],"y":[15,14,13,14,14,14,9,11,11,12,9,13,13,12,9,11,11,13,11,14,14,13,13,13,11,13,15,16,17,15,15,15,16],"type":"scatter","mode":"markers","name":"pickup","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,29,28,27,24,24,24,26,26,26,26,44,41,29,26,28,29],"y":[18,18,17,16,15,15,15,15,14,28,24,25,23,24,26,25,24,21,19,19,20,20,17,16,17,21,19,19,19,35,29,21,19,20,20],"type":"scatter","mode":"markers","name":"subcompact","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[20,15,20,17,17,19,14,15,17,17,17,12,17,16,18,15,17,17,18,17,19,17,19,19,17,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,17,17,20,18,25,24,27,25,26,23,20,20,19,17,20,17,15,18],"y":[14,11,14,13,12,14,11,11,14,13,13,9,13,11,13,11,11,11,12,14,15,14,13,13,13,17,15,15,14,9,14,13,11,11,12,12,11,11,11,12,14,13,13,13,14,15,14,12,18,18,20,19,20,18,15,16,15,15,16,14,11,13],"type":"scatter","mode":"markers","name":"suv","marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Notice the <code>~</code>. These are used to ensure that the variables are mapped from the data (similar to <code>aes()</code> in <code>ggplot2</code>). Alternatively, one could also use <code>x = mpg$hwy</code> to create the same plot.</p>
<p>Because we can see a lot of overplotting, let us jitter the points. Unfortunately, I couldn’t find a built-in option for that. Therefore, let’s do the jittering manually.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>jitter_hwy <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>jitter_cty <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>jittered_mpg <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">hwy =</span> hwy <span class="sc">+</span> <span class="fu">runif</span>(<span class="fu">length</span>(hwy), <span class="sc">-</span>jitter_hwy, jitter_hwy),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cty =</span> cty <span class="sc">+</span> <span class="fu">runif</span>(<span class="fu">length</span>(cty), <span class="sc">-</span>jitter_cty, jitter_cty)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>hwy, <span class="at">y =</span> <span class="sc">~</span>cty, <span class="at">color =</span> <span class="sc">~</span>class)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>plt </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-92eb6ab68abc76a27941" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-92eb6ab68abc76a27941">{"x":{"visdat":{"767a2becebc5":["function () ","plotlyVisDat"]},"cur_data":"767a2becebc5","attrs":{"767a2becebc5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Regarding the customization of the points aka markers, we can pass a list of options (taken from the reference manual again) to the <code>marker</code> argument in <code>add_markers()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span>hwy, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span>cty, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span>class,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity =</span> <span class="fl">0.6</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">2</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-acbacf5e302069170997" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-acbacf5e302069170997">{"x":{"visdat":{"767a51d06bcc":["function () ","plotlyVisDat"]},"cur_data":"767a51d06bcc","attrs":{"767a51d06bcc":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","marker":{"color":"rgba(102,194,165,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"2seater","textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","marker":{"color":"rgba(252,141,98,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"compact","textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","marker":{"color":"rgba(141,160,203,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"midsize","textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","marker":{"color":"rgba(231,138,195,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"minivan","textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","marker":{"color":"rgba(166,216,84,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"pickup","textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","marker":{"color":"rgba(255,217,47,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"subcompact","textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","marker":{"color":"rgba(229,196,148,1)","size":8,"opacity":0.6,"line":{"color":"black","width":2}},"name":"suv","textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Alternatively, and what I find surprisingly convenient, we can leave our initial plotly object as it is and pass it to the <code>style()</code> function. This functions works just like the <code>layout()</code> function we have seen before.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span>hwy, </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span>cty, </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span>class</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity =</span> <span class="fl">0.6</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">2</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>plt </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-09c5c8a35968c6504617" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-09c5c8a35968c6504617">{"x":{"visdat":{"767a6abab6be":["function () ","plotlyVisDat"]},"cur_data":"767a6abab6be","attrs":{"767a6abab6be":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Similarly, we could pass this along to <code>layout()</code> if we want to customize the legend box again.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plt_layout <span class="ot">&lt;-</span> plt <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">orientation =</span> <span class="st">"h"</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">borderwidth =</span> <span class="dv">3</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">bgcolor =</span> <span class="st">"grey"</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bordercolor =</span> <span class="st">"red"</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="st">"Class"</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">side =</span> <span class="st">"top"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">"Gravitas One"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">15</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>plt_layout</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-39418b0f20bd6447604b" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-39418b0f20bd6447604b">{"x":{"visdat":{"767a6abab6be":["function () ","plotlyVisDat"]},"cur_data":"767a6abab6be","attrs":{"767a6abab6be":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true,"legend":{"orientation":"h","borderwidth":3,"bgcolor":"grey","bordercolor":"red","font":{"color":"white","family":"Gravitas One","size":15},"title":{"text":"Class","side":"top","font":{"color":"white","family":"Gravitas One","size":15}}}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Interesting! For some obscure reason the exact same legend command behaves differently now. Honestly, I have no clue what is going on here. If I had to hazard a guess, I would say that during the conversion of a ggplot object to a plotly object via <code>ggplotly()</code> some default values were implemented that cause the change but this is just a hunch. Possibly, this is connected to <code>xanchor</code> or <code>yanchor</code>.</p>
<p>In any case, we got a glimpse of how the <code>plotly</code> R package works which uses the JavaScript library <code>plotly.js</code> to create interactive plots. Also, we have learned how to convert a ggplot2 object to a plotly object and how we can customize this further.</p>
<p>Interestingly, when converting from ggplot2 to plotly, the pop-up window that appears when you hover over a point is already customized compared to the default from <code>plot_ly()</code>. Did you notice the difference already?</p>
<p>So, in order to end our “exploratory introduction” let us adjust the <code>hovertemplate</code> according to the description in the reference manual. Here, we will use <code>\n</code> for line breaks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> plt <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(<span class="at">hovertemplate =</span> <span class="st">"hwy: %{x:.2f}</span><span class="sc">\n</span><span class="st">cty: %{y:.2f}"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.2</span>)) </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-b8868cf05a039da02b0a" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b8868cf05a039da02b0a">{"x":{"visdat":{"767a6abab6be":["function () ","plotlyVisDat"]},"cur_data":"767a6abab6be","attrs":{"767a6abab6be":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true,"legend":{"orientation":"h","y":-0.2}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}"}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Notice how the class labels appear outside of the box. The reference manual refers to this position as “secondary” box. To get rid of this, we simply add <code>&lt;extra&gt;&lt;/extra&gt;</code> to our hover template. Unfortunately, it appears as if what is not displayed in the primary box cannot be used as part of the hover template.</p>
<p>Thus, we cannot use <code>%{color}</code>. Instead, we simply map <code>class</code> to the <code>text</code> attribute of the markers as well. Then, we can use <code>%{text}</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plt <span class="ot">&lt;-</span> jittered_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>hwy, <span class="at">y =</span> <span class="sc">~</span>cty, <span class="at">color =</span> <span class="sc">~</span>class, <span class="at">text =</span> <span class="sc">~</span>class) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity =</span> <span class="fl">0.6</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">2</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(<span class="at">hovertemplate =</span> <span class="st">"hwy: %{x:.2f}</span><span class="sc">\n</span><span class="st">cty: %{y:.2f}</span><span class="sc">\n</span><span class="st">class: %{text} &lt;extra&gt;&lt;/extra&gt;"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.2</span>))</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-2dabd81b3171378ecadf" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2dabd81b3171378ecadf">{"x":{"visdat":{"767a260e83fe":["function () ","plotlyVisDat"]},"cur_data":"767a260e83fe","attrs":{"767a260e83fe":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"text":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"hwy"},"yaxis":{"domain":[0,1],"automargin":true,"title":"cty"},"hovermode":"closest","showlegend":true,"legend":{"orientation":"h","y":-0.2}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[27.9770791064948,23.6228231964633,26.8341218726709,25.1762640988454,24.3765680817887],"y":[15.8087983620353,14.9431525552645,16.7362136137672,15.8514159116894,15.7639551186003],"type":"scatter","mode":"markers","text":["2seater","2seater","2seater","2seater","2seater"],"name":"2seater","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[28.1503100804985,30.1532205417752,30.6359076872468,31.5320696160197,27.7618691371754,24.1822259975597,27.112421952188,27.5696761775762,25.2057400578633,27.8264589412138,28.8273333813995,24.8133366247639,25.7102825418115,25.2905336078256,23.4116987306625,28.6378998104483,25.0418684473261,24.0627467473969,27.5198922138661,23.735313963145,28.4545764457434,26.0601309258491,29.2583617391065,32.6527528921142,32.6074975579977,25.0966664860025,25.2859310256317,28.9425635375082,30.4799732407555,34.7492563566193,34.8661308092996,36.6273303730413,35.6369212968275,28.1529571227729,24.6825809404254,27.6886869855225,28.9281704220921,23.0118597140536,42.8650191584602,29.6975055523217,24.1906545097008,29.8034123498946,28.4075545538217,28.6357759917155,30.283805295825,24.675429392606,23.1301133204252],"y":[17.5217137141153,20.7943039066158,19.3954894733615,21.6638551256619,15.3057744456455,18.6068370840512,18.0936523131095,18.3246352840215,15.343396987766,20.2661107196473,18.6237394935451,15.4491086928174,16.7978796493262,17.9387128222734,15.9347967412323,21.9276866638102,19.5491830841638,20.1526036751457,19.7908977181651,18.899604968261,20.4130038022995,21.0949189360254,21.288480441086,21.192527089268,21.6438747514039,18.7822286249138,18.2525138948113,17.6058098305948,23.7764093275182,23.3209501849487,26.7251037950628,28.9062024275772,26.1272893669084,21.1677446719259,19.463415317703,20.33104182221,22.7329355264083,17.4171482743695,33.5207990724593,20.2941682171077,18.7161139268428,22.3466649628244,21.0476452033035,20.6996035855263,20.481061403174,15.1163835925981,16.4732394842431],"type":"scatter","mode":"markers","text":["compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact"],"name":"compact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[25.5992998816073,23.9843509374186,21.1682381341234,27.7628211136907,31.1818696707487,24.0984547380358,28.9111838843673,27.0338381500915,25.642759106122,25.5883787637576,31.7411992130801,30.2049155998975,24.2428822861984,27.7909077601507,28.8823850937188,29.7353980960324,33.370917275548,25.9246471282095,24.9563998226076,24.3067646613345,23.9828947121277,25.9285408221185,24.4443858452141,25.5599777409807,27.2877412559465,26.8675710512325,24.7790720080957,29.3270003991202,28.3590710591525,30.2497926596552,31.8331612888724,25.0600712243468,26.3773727761582,27.9251592019573,29.241013054736,29.7930463794619,29.6627341536805,29.4734049094841,25.7136860350147,26.1683214688674,24.2339139543474],"y":[15.4534050780348,16.5144334929064,15.4435758693144,18.6726624118164,21.6946492628194,17.0400486011058,18.0056260912679,17.7420868272893,18.0520593202673,17.4501467016526,20.9728235281073,20.7404295969754,18.9667003615759,17.7766382303089,18.4584896806628,22.4177526971325,22.617573665455,19.9426849004813,19.1698001869954,18.5216472507454,18.7454187888652,19.5383878224529,17.1899248263799,15.4209741582163,17.9541979925707,17.5926043507643,16.4519660538062,20.9958978723735,20.5520993452519,20.3840466374531,21.9012425281107,17.6434510755353,17.9569127676077,18.0559851438738,20.8722599921748,17.9280332536437,18.3305961624719,21.1698731146753,15.5415560388938,17.4601938407868,17.3824156629853],"type":"scatter","mode":"markers","text":["midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize","midsize"],"name":"midsize","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[22.8656317433342,23.2727240305394,20.9265031414106,20.5712000895292,23.6581853432581,23.6548973051831,16.4753818036988,20.6097789909691,19.555224253796,21.9321363978088,22.8638498010114],"y":[17.0126015678979,16.1441142479889,15.3284224499948,16.5406681485474,17.4703686116263,17.9437512713484,10.9329447536729,14.1487690266222,15.297636248637,16.5171863390133,15.2742121620104],"type":"scatter","mode":"markers","text":["minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan"],"name":"minivan","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[18.0638905614614,19.4313108613715,15.1833246666938,16.7688002968207,20.1956993825734,17.4875970399007,12.2437919350341,15.8261255584657,13.5101266009733,17.2585601555184,11.7940653655678,18.2402574121952,18.2495580380782,17.1773692844436,11.7593267504126,16.017900634557,16.5168845262378,17.8407296054065,13.0024990933016,18.1527833361179,15.4114585770294,15.7395709659904,17.9398279199377,18.5722044575959,16.5458762431517,15.7002106010914,18.9549041073769,21.8494357457384,22.4054629039019,17.0601189089939,18.6102933688089,19.52098616492,19.4563674591482],"y":[14.7931691892445,13.4499706584029,12.1159171210602,13.7917853766121,13.1298565999605,13.4517728658393,8.10925821820274,11.340564079117,10.5954835652374,11.1980836587027,9.59766322234645,13.5691505330615,12.0188598101959,12.5581317655742,9.4587813038379,11.2602637056261,10.9618216599338,12.3132737027481,10.0164310396649,13.4754988099448,13.707972205244,13.713770840317,13.707526747603,12.5917909108102,10.2940966491587,13.4079841226339,14.4696393515915,16.225343930535,16.2163570588455,14.9740651398897,14.1988916466944,14.3223315253854,15.5659857415594],"type":"scatter","mode":"markers","text":["pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup"],"name":"pickup","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[24.5227827662602,25.6124077001587,25.3740658890456,24.6270325118676,20.2814929699525,20.7507644770667,24.1291772052646,20.3743799468502,19.8671161662787,33.0460218396038,32.399955837056,31.3312941612676,28.9544521346688,33.8178953099996,33.9316095886752,37.5614008884877,37.6577527476475,29.4349399292842,24.5691771823913,29.1971386242658,29.8163649542257,27.3419334124774,23.6180411269888,24.591573917307,23.2792824683711,26.1347517818213,26.9613374415785,24.8844117512926,25.6509844744578,45.8444191748276,41.9135777130723,29.7455003280193,24.2113757710904,27.5808805385605,28.9113815193996],"y":[17.2076133764349,17.0674555459991,17.9988090558909,15.0697496081702,14.6767825675197,15.8301275232807,15.2344705392607,14.5725706974044,14.4755948060192,28.6681086183526,23.6285415608436,24.9851330956444,23.3947475324385,24.282924707979,26.2878458299674,25.9557068096474,23.8294706689194,20.2388095599599,19.2465950925834,18.2730803941377,20.9349389886484,20.0301436157897,16.3261406584643,16.2438045903109,17.9719083304517,21.9824731117114,19.9721085946076,18.2741349427961,19.8106191633269,35.78015582636,29.6236548321322,21.495032644365,18.3098234515637,19.2494841772132,20.9494516169652],"type":"scatter","mode":"markers","text":["subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact"],"name":"subcompact","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"},{"x":[19.3116828771308,16.8180145965889,21.558157264255,17.7712136246264,17.5620272550732,18.1566389491782,12.5884545892477,16.8520969301462,18.6091961804777,18.0132314572111,18.5801814366132,11.4978511035442,17.6604607785121,14.3793626436964,17.5358785511926,14.0975345782936,16.9012662963942,15.8804755406454,17.5192661508918,17.451084013097,18.4071916369721,15.4445416973904,17.9744778908789,19.6722223497927,16.670587118715,21.2308800434694,17.8790705250576,19.4779554633424,18.9368768138811,10.6168092032894,17.3641759995371,16.5676276311278,14.7600284060463,15.4770259335637,19.5655764685944,18.6919963704422,15.9483109517023,17.0845429031178,16.6393537987024,19.2872218405828,18.1451262068003,20.9192876694724,18.7577261449769,16.2468088082969,18.3898126604035,16.9901090683416,19.5516361193731,16.9857959765941,23.8719626748934,24.009198253043,26.4156182873994,25.5999406352639,25.4988558264449,22.4217815231532,20.9862720165402,20.6731385989115,19.4720714930445,16.4889522409067,20.1193427434191,18.4987293714657,13.6093864673749,18.2914682328701],"y":[14.1860913033597,10.5350428642705,14.0621407977305,13.5705833425745,11.336121621076,14.3483736850321,11.9003339586779,11.0328897885047,14.1530380425975,12.2014431646094,12.1438081944361,9.7608811375685,13.5084948041476,11.6332117752172,13.9642807473429,10.2071992899291,10.9049167884514,10.9845866574906,11.7791742230766,13.9293318837881,15.4265580014326,13.1106038526632,12.7095661950298,13.6056245458312,13.6714176740497,17.3375430349261,14.8378317938186,14.6466899863444,14.6705106399022,8.28763408726081,13.3856318937615,13.7934773652814,10.6162391086109,10.7266010870226,12.5678929574788,11.38675735984,10.0355316237547,10.8132157325745,10.9663353385404,11.8436899003573,13.6856176033616,13.7329666293226,12.9102161019109,13.0675297472626,14.0753543660976,15.8279908993281,13.370592883788,11.5644368347712,18.5713756685145,17.2108354922384,19.4791892580688,18.5410897447728,19.2021169881336,17.2358276825398,14.1650054915808,15.6786251603626,15.3615751024336,14.6338984961621,16.6631371960975,13.4303441653028,10.659094826784,13.9932344374247],"type":"scatter","mode":"markers","text":["suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv"],"name":"suv","marker":{"size":8,"opacity":0.6,"line":{"color":"black","width":2}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null,"hovertemplate":"hwy: %{x:.2f}<br />cty: %{y:.2f}<br />class: %{text} <extra><\/extra>"}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>All right! That’s enough exciting plotting action for today. Hope you enjoyed this blog post and see you next time.</p>


</section>

</main> <!-- /main -->
<div>
<hr>

<h3> Stay in touch </h3>

<p> If you enjoyed this post, then you may also enjoy my biweekly newsletter. Every other week I share thoughts on data visualization, statistics and Shiny web app development. </p>

<iframe id="beehiiv-form" src="https://embeds.beehiiv.com/9232d2a2-6e85-4beb-b8ed-1de94e9e4f01?slim=true" data-test-id="beehiiv-embed" frameborder="0" scrolling="no" style="margin: 0; border-radius: 0px !important; background-color: transparent; height: 55px;"></iframe>


<h3> You can also support my work with a coffee </h3>

<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="rappa753" data-color="#06436e" data-emoji="☕" data-font="Lato" data-text="Support me" data-outline-color="#ffffff" data-font-color="#ffffff" data-coffee-color="#FFDD00" data-height="40px"></script>

<h3> Share </h3>

<a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-size="large" data-hashtags="#rstats" data-show-count="false">Tweet</a><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>



<hr>
</div>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="AlbertRapp/blogComments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center"><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
  </div>
</footer>



</body></html>